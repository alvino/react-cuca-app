(this["webpackJsonpreact-cuca-app"]=this["webpackJsonpreact-cuca-app"]||[]).push([[0],{106:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUoAAAFKCAIAAAD0S4FSAAAATHRFWHRDb3B5cmlnaHQAR2VuZXJhdGVkIHdpdGggQmFyY29kZSBHZW5lcmF0b3IgZm9yIFBIUCBodHRwOi8vd3d3LmJhcmNvZGVwaHAuY29tWX9wuAAAAAlwSFlzAAAOxAAADsQBlSsOGwAABaVJREFUeJzt3cGOEzEUBVGC+P9fDlsWyIrk8fh1zTlbRBJISt5cuV/v9/sXUPT79gcATpE3ZMkbsuQNWfKGLHlDlrwhS96QJW/IkjdkyRuy5A1Z8oYseUOWvCFL3pAlb8iSN2TJG7LkDVnyhix5Q5a8IUvekCVvyJI3ZMkbsuQNWfKGLHlDlrwhS96QJW/IkjdkyRuy5A1Z8oYseUOWvCHrz603fr1et976kPf7vfjT9b93/XfXZr7yub/7RDvfwg6nN2TJG7LkDVnyhix5Q5a8IUvekCVvyJI3ZF1bra3dWvms9dZU5xZv575Bv43POb0hS96QJW/IkjdkyRuy5A1Z8oYseUOWvCFr6Gpt7dxCqLeImrmmOuen/TbWnN6QJW/IkjdkyRuy5A1Z8oYseUOWvCFL3pD1yNXaE83cPM38VHwVpzdkyRuy5A1Z8oYseUOWvCFL3pAlb8iSN2RZrX2TnTvAdrZl6/e99an4Hk5vyJI3ZMkbsuQNWfKGLHlDlrwhS96QJW/IeuRq7Yl7qfVnnvkcz3NruXPf4BN/G+c4vSFL3pAlb8iSN2TJG7LkDVnyhix5Q5a8IWvoam3mimvHzorr3ALs1vvu6P02znF6Q5a8IUvekCVvyJI3ZMkbsuQNWfKGLHlD1rXV2k+7E+uJd63tOLel43NOb8iSN2TJG7LkDVnyhix5Q5a8IUvekCVvyLq2Wjt3j9cTF2DnNm3nblObeXvcuU+149YOz+kNWfKGLHlDlrwhS96QJW/IkjdkyRuy5A1Zr95zHmcuwHZe+ZyZe7i1mavEmffDOb0hS96QJW/IkjdkyRuy5A1Z8oYseUOWvCFr6Gpt5j5s5g1hM1/5lplbOnetAV9M3pAlb8iSN2TJG7LkDVnyhix5Q5a8IevaE0JvPX1ybeaWrre1uvWkzrWZO7wdTm/IkjdkyRuy5A1Z8oYseUOWvCFL3pAlb8h65F1rt8y8t+yJ99Lt+Gm/jR1Ob8iSN2TJG7LkDVnyhix5Q5a8IUvekCVvyHrkau3WEmtt5qda623LevfS7XB6Q5a8IUvekCVvyJI3ZMkbsuQNWfKGLHlD1tDV2trMJ3XuvPKOW8uzc7vDmXe87XDXGvDF5A1Z8oYseUOWvCFL3pAlb8iSN2TJG7L+3P4A/7ez8uktz879b6zNvIlt5i19M9dyTm/IkjdkyRuy5A1Z8oYseUOWvCFL3pAlb8gaulqb6dZeau3clm7m4m3nfXe+I08IBQaRN2TJG7LkDVnyhix5Q5a8IUvekCVvyLq2Wru18rl1b9mOWwuwmXu4tZl3nt3i9IYseUOWvCFL3pAlb8iSN2TJG7LkDVnyhqxrq7XeuujWxqt3u9it97313NJznN6QJW/IkjdkyRuy5A1Z8oYseUOWvCFL3pA19AmhM5+3eOspn7eeTPrE+/DOmblLW3N6Q5a8IUvekCVvyJI3ZMkbsuQNWfKGLHlD1tDV2tqt9Rj/2vkWejftzeT0hix5Q5a8IUvekCVvyJI3ZMkbsuQNWfKGrEeu1vjcuade3jLzBriZN7E5vSFL3pAlb8iSN2TJG7LkDVnyhix5Q5a8Ictq7Zvc2i2dW1Od28P1lna3OL0hS96QJW/IkjdkyRuy5A1Z8oYseUOWvCHrkas1z/H83K1d2rlX3tml7dyX9kROb8iSN2TJG7LkDVnyhix5Q5a8IUvekCVvyBq6Wuvth249QfLc/+S5J2beuomtd8eb0xuy5A1Z8oYseUOWvCFL3pAlb8iSN2TJG7Je7i2DKqc3ZMkbsuQNWfKGLHlDlrwhS96QJW/IkjdkyRuy5A1Z8oYseUOWvCFL3pAlb8iSN2TJG7LkDVnyhix5Q5a8IUvekCVvyJI3ZMkbsuQNWfKGLHlDlrwhS96QJW/IkjdkyRuy5A1Z8oYseUOWvCFL3pD1F7FQlIkVzdwxAAAAAElFTkSuQmCC"},107:function(e,t,a){e.exports=a.p+"static/media/user-icon.a0533dda.png"},108:function(e,t,a){e.exports=a(179)},114:function(e,t,a){},179:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(17),l=a.n(c),o=a(12),u=a(14),i=a(6),s=(a(113),a(114),a(19)),m=a(63),d=a(100),p=a(187),f=a(186),b=a(94),E=a.n(b);function v(e){return r.a.createElement("img",{src:E.a,width:e.width,alt:"Logo"})}v.defaultProps={width:"180px"};var h=r.a.memo(v);function j(e){return r.a.createElement(p.a,{bg:"primary",variant:"dark",className:"shadow sticky-top mb-5"},r.a.createElement(o.b,{to:"/",className:"navbar-brand"},r.a.createElement(h,{width:e.logoWidth})),r.a.createElement(p.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(p.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(f.a,{className:"mr-auto"},e.children)))}j.defaultProps={logoWidth:"180px"};var O=r.a.memo(j),g=a(48),y=a(49);function N(){var e=Object(g.a)(["\n  opacity: 0.6;\n  width: 12rem;\n  height: 12rem;\n  -moz-transition: all 0.3s;\n  -webkit-transition: all 0.3s;\n  transition: all 0.35s;\n  text-decoration: none;\n\n  &:hover {\n    opacity: 1;\n    text-decoration: none;\n    -moz-transform: scale(1.2);\n    -webkit-transform: scale(1.2);\n    transform: scale(1.2);\n  }\n\n  svg {\n    width: 5rem;\n    height: 5rem;\n  }\n"]);return N=function(){return e},e}var k=y.a.a(N()),C=function(e){return r.a.createElement(k,{as:o.b,to:e.to,className:"m-3 text-white d-flex rounded justify-content-center align-items-center shadow bg-primary"},r.a.createElement("div",{className:"d-flex flex-column justify-content-center align-items-center"},r.a.createElement("div",{className:"d-flex size-box"},e.children),r.a.createElement("div",{className:"mt-2 h4"},e.title)))},x=function(){return r.a.createElement("div",{className:"mb-5"},r.a.createElement(O,null),r.a.createElement("div",{className:"container-fluid"},r.a.createElement("main",{className:"d-flex justify-content-around  align-items-center"},r.a.createElement("div",{className:"row w-75 mx-auto"},r.a.createElement(C,{title:"Ponto de Venda",to:"/venda"},r.a.createElement(s.g,null)),r.a.createElement(C,{title:"Or\xe7amentos",to:"/orcamento"},r.a.createElement(s.a,null)),r.a.createElement(C,{title:"Estoque",to:"/estoque"},r.a.createElement(s.j,null)),r.a.createElement(C,{title:"Clientes",to:"/cliente"},r.a.createElement(s.i,null)),r.a.createElement(C,{title:"Fornecedores",to:"/fornecedor"},r.a.createElement(s.h,null)),r.a.createElement(C,{title:"Entrada",to:"/entrada"},r.a.createElement(m.b,null)),r.a.createElement(C,{title:"Saida",to:"/saida"},r.a.createElement(m.a,null)),r.a.createElement(C,{title:"sobre",to:"/sobre"},r.a.createElement(d.a,null))))))};function w(e){return r.a.createElement("li",{className:"nav-item"},r.a.createElement(o.c,{activeClassName:"active",className:"nav-link",to:e.to},e.title))}var S=r.a.memo((function(){return r.a.createElement(O,{logoWidth:"120px"},r.a.createElement(w,{to:"/cliente",title:"Cliente"}),r.a.createElement(w,{to:"/fornecedor",title:"Fornecedor"}),r.a.createElement(w,{to:"/estoque",title:"Estoque"}),r.a.createElement(w,{to:"/orcamento",title:"Or\xe7amento"}),r.a.createElement(w,{to:"/entrada",title:"Entrada"}),r.a.createElement(w,{to:"/saida",title:"Saida"}))})),F=a(5),V=a.n(F),T=a(10),D=a(2),A=a(36),_=a.n(A),H=_.a.create({baseURL:"http://localhost:3333"}),I=a(101),P=a(4),q=a(22);a(177);function R(e){var t=e.onSelect,a=e.children,n=e.onRowClick,c=Object(q.a)(e,["onSelect","children","onRowClick"]);return t&&(c.selectRow={mode:"radio",bgColor:"rgba(0,123,255,.4)",onSelect:t,clickToSelect:!0}),r.a.createElement(P.BootstrapTable,Object.assign({},c,{options:{noDataText:"N\xe3o possui dados para mostra.",onRowClick:n}}),a)}R.defaultProps={version:"4",pagination:!0,hover:!0,bordered:!1,search:!0,exportCSV:!0,size:"sm",onRowClick:null};var L=r.a.memo(R),J=function(){var e=Object(u.g)(),t=Object(n.useState)([]),a=Object(D.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)({row:{},isSelected:!1}),s=Object(D.a)(o,2),m=s[0],d=s[1];Object(n.useEffect)((function(){function e(){return(e=Object(T.a)(V.a.mark((function e(){var t;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,H.get("/client");case 3:t=e.sent,l(t.data.clients),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),i.b.error("Erro de rede ao acessar API");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var p=Object(n.useCallback)((function(e,t){d({row:e,isSelected:t})}),[]);return r.a.createElement("div",null,r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("div",{className:"btn-group ",role:"group"},r.a.createElement(I.a,{variant:"primary",className:"p-2",onClick:function(){return e.push("/cliente/register")}},"Cadastra Cliente"),m.isSelected?r.a.createElement(r.a.Fragment,null,r.a.createElement(I.a,{variant:"info",className:"p-2",onClick:function(){return e.push("/cliente/register/".concat(m.row.id))}},"Alterar Cliente"),r.a.createElement(I.a,{variant:"danger",className:"p-2",onClick:function(){return e.push("/cliente/delete/".concat(m.row.id))}},"Deletar Cliente")):"")),r.a.createElement("div",null,r.a.createElement(L,{keyField:"cpf",data:c,onSelect:p},r.a.createElement(P.TableHeaderColumn,{dataField:"name",dataSort:!0},"Nome"),r.a.createElement(P.TableHeaderColumn,{dataField:"cpf",width:"15%"},"CPF/CNPJ"),r.a.createElement(P.TableHeaderColumn,{dataField:"email",dataSort:!0},"Email"),r.a.createElement(P.TableHeaderColumn,{dataField:"telephone",width:"10%"},"Telefone"),r.a.createElement(P.TableHeaderColumn,{dataField:"city",dataSort:!0},"Cidade"),r.a.createElement(P.TableHeaderColumn,{dataField:"uf",dataSort:!0,width:"5%"},"Estado"))))},W=_.a.create({baseURL:"https://raw.githubusercontent.com/wgenial/br-cidades-estados-json/master"}),z=function(){var e=Object(u.g)(),t=Object(u.h)(0).id,a=Object(n.useState)([]),c=Object(D.a)(a,2),l=c[0],o=c[1],s=Object(n.useState)([]),m=Object(D.a)(s,2),d=m[0],p=m[1],f=Object(n.useState)(""),b=Object(D.a)(f,2),E=b[0],v=b[1],h=Object(n.useRef)(),j=Object(n.useRef)(),O=Object(n.useRef)(),g=Object(n.useRef)(),y=Object(n.useRef)(),N=Object(n.useRef)();Object(n.useEffect)((function(){h.current.focus(),t&&H.get("/client/".concat(t)).then((function(t){var a=Object(D.a)(t.data.client,1)[0];if(!a)return i.b.error("Cliente n\xe3o encontrado"),void e.push("/cliente/register");i.b.info(t.data.message),h.current.value=a.name,j.current.value=a.email,O.current.value=a.telephone,g.current.value=a.cpf,y.current.value=a.city,N.current.value=a.uf})).catch((function(e){i.b.error("Erro de rede ao acessar API"),console.error(e)}))}),[e,t]),Object(n.useEffect)((function(){W.get("/estados.json").then((function(e){var t=e.data.estados.map((function(e){return{sigla:e.id,nome:e.estado}}));o(t)})).catch((function(e){i.b.error("Erro de rede ao acessar as UF"),console.error(e)}))}),[]),Object(n.useEffect)((function(){""!==E&&W.get("/cidades/".concat(E,".json")).then((function(e){var t=e.data.cidades.map((function(e){return e.cidade}));p(t)})).catch((function(e){i.b.error("Erro de rede ao acessar Cidades"),console.error(e)}))}),[E]);var k=Object(n.useCallback)(function(){var a=Object(T.a)(V.a.mark((function a(n){var r,c;return V.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n.preventDefault(),""!==(r={uf:N.current.value,city:y.current.value,name:h.current.value,email:j.current.value,telephone:O.current.value,cpf:g.current.value}).name){a.next=5;break}return i.b.warning("Preencha no minimo o nome"),a.abrupt("return");case 5:if(c={},!t){a.next=12;break}return a.next=9,H.put("/client/".concat(t),r);case 9:c=a.sent,a.next=15;break;case 12:return a.next=14,H.post("/client",r);case 14:c=a.sent;case 15:c.data&&i.b.success(c.data.message),e.goBack();case 17:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),[e,t]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{onSubmit:k},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"nameInput"},"Name"),r.a.createElement("input",{type:"text",className:"form-control",id:"nameInput",ref:h})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"emailInput"},"Email"),r.a.createElement("input",{type:"email",className:"form-control",id:"emailInput",ref:j})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"telephoneInput"},"Telefone"),r.a.createElement("input",{type:"tel",className:"form-control",id:"telephoneInput",ref:O})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"cpfInput"},"CPF/CNPJ"),r.a.createElement("input",{type:"text",className:"form-control",id:"cpfInput",ref:g})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"ufSelect"},"Estado"),r.a.createElement("select",{id:"ufSelect",className:"form-control",ref:N,onChange:function(e){return v(e.target.value)}},r.a.createElement("option",null,0===l.length?"...Loanding":"Selecionar Estado"),l.map((function(e,t){return r.a.createElement("option",{key:t,value:e.sigla},e.nome)})))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"citySelect"},"Cidade"),r.a.createElement("select",{id:"citySelect",className:"form-control",ref:y},r.a.createElement("option",null,"0"===E?"Selecione um estado primeiro":"Selecionar Cidade"),d.map((function(e,t){return r.a.createElement("option",{key:t},e)})))),r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Salvar Cadastro")))},U=function(){var e=Object(u.g)(),t=Object(u.h)(0).id,a=Object(n.useState)({name:"",email:"",telephone:"",cpf:""}),c=Object(D.a)(a,2),l=c[0],o=c[1],s=Object(n.useState)("0"),m=Object(D.a)(s,2),d=m[0],p=m[1],f=Object(n.useState)("0"),b=Object(D.a)(f,2),E=b[0],v=b[1];Object(n.useEffect)((function(){function a(){return(a=Object(T.a)(V.a.mark((function a(){var n,r,c;return V.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,H.get("/client/".concat(t));case 3:if(n=a.sent,r=Object(D.a)(n.data.client,1),c=r[0]){a.next=9;break}return i.b.error("Cliente n\xe3o encontrado"),e.push("/cliente/register"),a.abrupt("return");case 9:o({name:c.name,email:c.email,telephone:c.telephone,cpf:c.cpf}),p(c.uf),v(c.city),a.next=17;break;case 14:a.prev=14,a.t0=a.catch(0),i.b.error("Erro de rede ao acessar API");case 17:case"end":return a.stop()}}),a,null,[[0,14]])})))).apply(this,arguments)}t?function(){a.apply(this,arguments)}():e.push("/cliente")}),[e,t]);var h=Object(n.useCallback)(function(){var a=Object(T.a)(V.a.mark((function a(n){var r;return V.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n.preventDefault(),a.next=3,H.delete("/client/".concat(t));case 3:r=a.sent,i.b.success(r.data.message),e.push("/cliente");case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),[e,t]);return r.a.createElement("div",null,r.a.createElement("h2",null,"Tem certeza que deseja deletar:"),r.a.createElement("div",{className:"mt-4 mb-4 justify-content-center"},r.a.createElement("p",null,"Nome: ",l.name),r.a.createElement("p",null,"Email: ",l.email),r.a.createElement("p",null,"Telefone: ",l.telephone),r.a.createElement("p",null,"CPF: ",l.cpf),r.a.createElement("p",null,"Estado: ",d),r.a.createElement("p",null,"Cidade: ",E)),r.a.createElement(I.a,{variant:"danger",onClick:h},"Confirmar remo\xe7\xe3o"))},Q=function(){var e=Object(u.i)().path;return r.a.createElement("div",null,r.a.createElement(S,null),r.a.createElement("div",{className:"container-fluid"},r.a.createElement("main",null,r.a.createElement(u.d,null,r.a.createElement(u.b,{exact:!0,path:e},r.a.createElement(J,null)),r.a.createElement(u.b,{exact:!0,path:"".concat(e,"/register")},r.a.createElement(z,null)),r.a.createElement(u.b,{exact:!0,path:"".concat(e,"/register/:id")},r.a.createElement(z,null)),r.a.createElement(u.b,{exact:!0,path:"".concat(e,"/delete/:id")},r.a.createElement(U,null))))))},G=function(){var e=Object(u.g)(),t=Object(n.useState)([]),a=Object(D.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)({row:{},isSelected:!1}),s=Object(D.a)(o,2),m=s[0],d=s[1];Object(n.useEffect)((function(){H.get("/provider").then((function(e){l(e.data.providers)})).catch((function(e){i.b.error("Erro ao acessar API"),console.error(e)}))}),[]);var p=Object(n.useCallback)((function(e,t){d({row:e,isSelected:t})}),[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("div",{className:"btn-group ",role:"group"},r.a.createElement(I.a,{variant:"primary",className:"p-2",onClick:function(){return e.push("/fornecedor/register")}},"Cadastra Fornecedor"),m.isSelected&&r.a.createElement(r.a.Fragment,null,r.a.createElement(I.a,{variant:"info",className:"p-2",onClick:function(){return e.push("/fornecedor/register/".concat(m.row.id))}},"Alterar Fornecedor"),r.a.createElement(I.a,{variant:"danger",className:"p-2",onClick:function(){return e.push("/fornecedor/delete/".concat(m.row.id))}},"Deletar Fornecedor")))),r.a.createElement(L,{keyField:"cnpj",data:c,onSelect:p},r.a.createElement(P.TableHeaderColumn,{dataField:"nickname",dataSort:!0},"Empresa"),r.a.createElement(P.TableHeaderColumn,{dataField:"cnpj",width:"15%"},"CNPJ/CPF"),r.a.createElement(P.TableHeaderColumn,{dataField:"email",dataSort:!0},"Email"),r.a.createElement(P.TableHeaderColumn,{dataField:"telephone",width:"10%"},"Telefone"),r.a.createElement(P.TableHeaderColumn,{dataField:"bank_data"},"Dados Bancarios"),r.a.createElement(P.TableHeaderColumn,{dataField:"city",dataSort:!0},"Cidade"),r.a.createElement(P.TableHeaderColumn,{dataField:"uf",dataSort:!0,width:"10%"},"UF")))},Z=function(){var e=Object(u.g)(),t=Object(u.h)().id,a=Object(n.useState)([]),c=Object(D.a)(a,2),l=c[0],o=c[1],s=Object(n.useState)([]),m=Object(D.a)(s,2),d=m[0],p=m[1],f=Object(n.useState)(""),b=Object(D.a)(f,2),E=b[0],v=b[1],h=Object(n.useRef)(),j=Object(n.useRef)(),O=Object(n.useRef)(),g=Object(n.useRef)(),y=Object(n.useRef)(),N=Object(n.useRef)(),k=Object(n.useRef)();Object(n.useEffect)((function(){h.current.focus(),t&&H.get("/provider/".concat(t)).then((function(t){var a=Object(D.a)(t.data.provider,1)[0];if(!a)return i.b.error("fornecedor n\xe3o encontrado"),void e.push("/fornecedor/register");i.b.info(t.data.message),h.current.value=a.nickname,j.current.value=a.email,O.current.value=a.telephone,g.current.value=a.cnpj,y.current.value=a.bank_data,k.current.value=a.uf,N.current.value=a.city})).catch((function(e){i.b.error("Erro ao acessar API"),console.error(e)}))}),[e,t]),Object(n.useEffect)((function(){function e(){return(e=Object(T.a)(V.a.mark((function e(){var t,a;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.get("/estados.json");case 2:t=e.sent,a=t.data.estados.map((function(e){return{sigla:e.id,nome:e.estado}})),o(a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(n.useEffect)((function(){function e(){return(e=Object(T.a)(V.a.mark((function e(){var t,a;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.get("/cidades/".concat(E,".json"));case 2:t=e.sent,a=t.data.cidades.map((function(e){return e.cidade})),p(a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}""!==E&&function(){e.apply(this,arguments)}()}),[E]);var C=function(){var a=Object(T.a)(V.a.mark((function a(n){var r,c;return V.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n.preventDefault(),""!==(r={uf:k.current.value,city:N.current.value,nickname:h.current.value,email:j.current.value,telephone:O.current.value,cnpj:g.current.value,bank_data:y.current.value}).nickname){a.next=5;break}return i.b.warning("Preencha no minimo a raz\xe3o social"),a.abrupt("return");case 5:if(c={},!t){a.next=12;break}return a.next=9,H.put("/provider/".concat(t),r);case 9:c=a.sent,a.next=15;break;case 12:return a.next=14,H.post("/provider",r);case 14:c=a.sent;case 15:i.b.success(c.data.message),e.goBack();case 17:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{onSubmit:C},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"nicknameInput"},"Raz\xe3o"),r.a.createElement("input",{type:"text",className:"form-control",id:"nicknameInput",ref:h})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"emailInput"},"Email"),r.a.createElement("input",{type:"email",className:"form-control",id:"emailInput",ref:j})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"telephoneInput"},"Telefone"),r.a.createElement("input",{type:"tel",className:"form-control",id:"telephoneInput",ref:O})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"cnpjInput"},"CNPJ/CPF"),r.a.createElement("input",{type:"text",className:"form-control",id:"cnpjInput",ref:g})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"ufSelect"},"Estado"),r.a.createElement("select",{id:"ufSelect",className:"form-control",ref:k,onChange:function(e){return v(e.target.value)}},r.a.createElement("option",null,0===l.length?"...Loanding":"Selecionar Estado"),l.map((function(e,t){return r.a.createElement("option",{key:t,value:e.sigla},e.nome)})))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"citySelect"},"Cidade"),r.a.createElement("select",{id:"citySelect",className:"form-control",ref:N},r.a.createElement("option",null,"0"===E?"Selecione um estado primeiro":"Selecionar Cidade"),d.map((function(e,t){return r.a.createElement("option",{key:t},e)})))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"textareaBankData"},"Dados Bancarios"),r.a.createElement("textarea",{className:"form-control",id:"textareaBankData",name:"bank_data",rows:"3",ref:y})),r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Salvar Cadastro")))},B=function(){var e=Object(u.g)(),t=Object(u.h)(0).id,a=Object(n.useState)({nickname:"",email:"",telephone:"",cnpj:"",bank_data:""}),c=Object(D.a)(a,2),l=c[0],o=c[1],s=Object(n.useState)("0"),m=Object(D.a)(s,2),d=m[0],p=m[1],f=Object(n.useState)("0"),b=Object(D.a)(f,2),E=b[0],v=b[1],h=Object(n.useCallback)((function(){H.get("/provider/".concat(t)).then((function(t){var a=Object(D.a)(t.data.provider,1)[0];if(!a)return i.b.error("fornecedor n\xe3o encontrado"),void e.push("/fornecedor/register");o({nickname:a.nickname,email:a.email,telephone:a.telephone,cnpj:a.cnpj,bank_data:a.bank_data}),p(a.uf),v(a.city)})).catch((function(e){i.b.error("Error ao acessar API"),console.error(e)}))}),[e,t]);Object(n.useEffect)((function(){t?h():e.push("/provider")}),[h,e,t]);var j=Object(n.useCallback)(function(){var a=Object(T.a)(V.a.mark((function a(n){var r;return V.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n.preventDefault(),a.next=3,H.delete("/provider/".concat(t));case 3:r=a.sent,i.b.success(r.data.message),e.push("/fornecedor");case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),[e,t]);return r.a.createElement("div",null,r.a.createElement("h2",null,"Tem certeza que deseja deletar:"),r.a.createElement("div",{className:"mt-4 mb-4 justify-content-center"},r.a.createElement("p",null,"Raz\xe3o: ",l.nickname),r.a.createElement("p",null,"Email: ",l.email),r.a.createElement("p",null,"Telefone: ",l.telephone),r.a.createElement("p",null,"CNPJ: ",l.cnpj),r.a.createElement("p",null,"Estado: ",d),r.a.createElement("p",null,"Cidade: ",E),r.a.createElement("p",null,"Dados Bancarios: ",l.bank_data)),r.a.createElement(I.a,{variant:"danger",onClick:j},"Confirmar remo\xe7\xe3o"))},M=function(){var e=Object(u.i)().path;return r.a.createElement("div",null,r.a.createElement(S,null),r.a.createElement("div",{className:"container-fluid"},r.a.createElement("main",null,r.a.createElement(u.d,null,r.a.createElement(u.b,{exact:!0,path:e},r.a.createElement(G,null)),r.a.createElement(u.b,{exact:!0,path:"".concat(e,"/register")},r.a.createElement(Z,null)),r.a.createElement(u.b,{exact:!0,path:"".concat(e,"/register/:id")},r.a.createElement(Z,null)),r.a.createElement(u.b,{exact:!0,path:"".concat(e,"/delete/:id")},r.a.createElement(B,null))))))},K=a(29);function X(e){var t=e.value,a=e.split,n=e.separator,c=String(t).substring(0,10).split(a),l=Object(D.a)(c,3),o=l[0],u=l[1],i=l[2];return r.a.createElement("span",null,[i,u,o].join(n))}X.defaultProps={split:"-",separator:"/"};var Y=a(43),$=a.n(Y);function ee(e){return r.a.createElement($.a,e)}function te(e,t){return r.a.createElement(X,{value:e})}function ae(e,t){return r.a.createElement(ee,{prefix:"",value:parseFloat(e)})}function ne(e,t){return r.a.createElement(ee,{value:parseFloat(e)})}ee.defaultProps={displayType:"text",prefix:"R$ ",decimalSeparator:",",thousandSeparator:".",decimalScale:2,fixedDecimalScale:!0};var re=function(){var e=Object(u.g)(),t=Object(n.useState)([]),a=Object(D.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)({row:{},isSelected:!1}),s=Object(D.a)(o,2),m=s[0],d=s[1];Object(n.useEffect)((function(){function e(){return(e=Object(T.a)(V.a.mark((function e(){var t,a;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,H.get("/stock");case 3:t=e.sent,a=t.data.stocks.map((function(e){return Object(K.a)(Object(K.a)({},e),{},{stock:Number(e.quantity-e.quantity_of).toFixed(2)})})),l(a.filter((function(e){return e.stock>0}))),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),i.b.error("Erro no acesso a API"),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var p=Object(n.useCallback)((function(e,t){d({row:e,isSelected:t})}),[]);return r.a.createElement("div",null,r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("div",{className:"btn-group ",role:"group"},r.a.createElement("button",{className:"p-2 btn btn-primary",onClick:function(){return e.push("/estoque/register")}},"Cadastra Estoque"),m.isSelected&&r.a.createElement("button",{className:"p-2 btn btn-danger",onClick:function(){return e.push("/estoque/delete/".concat(m.row.id))}},"Deletar Estoque"),r.a.createElement("button",{className:"btn btn-success p-2w",onClick:function(){return e.push("/estoque/print")}},"Relatorio de Estoque"))),r.a.createElement(L,{data:c,onSelect:p,keyField:"id"},r.a.createElement(P.TableHeaderColumn,{dataField:"id",dataSort:!0,width:"5%"},"Cod"),r.a.createElement(P.TableHeaderColumn,{dataField:"description",dataSort:!0},"Descri\xe7\xe3o"),r.a.createElement(P.TableHeaderColumn,{dataField:"detail",dataSort:!0},"Detalhe"),r.a.createElement(P.TableHeaderColumn,{dataField:"unit",width:"5%"},"Unid."),r.a.createElement(P.TableHeaderColumn,{dataField:"stock",dataSort:!0,width:"7%",dataFormat:ae},"Estoque"),r.a.createElement(P.TableHeaderColumn,{dataField:"sale_value",width:"10%",dataSort:!0,dataFormat:ne},"Valor de Venda")))},ce=a(52),le=a(51),oe=a(184);function ue(e){var t=e.onSelected,a=e.data,c=e.title,l=e.isShow,o=e.disable,u=e.children,i=Object(n.useState)(!1),s=Object(D.a)(i,2),m=s[0],d=s[1];function p(){d(!1)}function f(){d(!0)}return l&&f(),r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:"btn btn-secondary px-4",onClick:f,disabled:o},r.a.createElement(le.a,{size:"22px",title:"Pesquisar Cliente"})),r.a.createElement(oe.a,{show:m,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,onHide:p},r.a.createElement(oe.a.Header,{closeButton:!0},r.a.createElement(oe.a.Title,{id:"contained-modal-title-vcenter"},c)),r.a.createElement(oe.a.Body,null,r.a.createElement(L,{data:a,onSelect:function(e,a){t(e,a),p()},exportCSV:!1},u))))}function ie(e){var t=e.children,a=e.label,n=Object(q.a)(e,["children","label"]);return r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:n.id},a),t?r.a.createElement("div",{className:"input-group mb-3"},r.a.createElement("input",n),r.a.createElement("div",{className:"input-group-append"},t)):r.a.createElement("input",n))}function se(e){var t=e.label,a=e.prefix,n=Object(q.a)(e,["label","prefix"]);return r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:n.id},t),""===a?r.a.createElement($.a,n):r.a.createElement("div",{className:"input-group mb-3"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text"},a)),r.a.createElement($.a,n)))}ie.defaultProps={className:"form-control ",type:"text"},se.defaultProps={className:"form-control",type:"text",prefix:"R$ ",decimalSeparator:",",thousandSeparator:"."};var me=function(){var e=Object(u.g)(),t=Object(n.useState)([]),a=Object(D.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)({}),s=Object(D.a)(o,2),m=s[0],d=s[1],p=Object(n.useRef)(),f=Object(n.useRef)(),b=Object(n.useRef)(),E=Object(n.useState)({formattedValue:"0",value:"0",floatValue:0}),v=Object(D.a)(E,2),h=v[0],j=v[1],O=Object(n.useState)({formattedValue:"0",value:"0",floatValue:0}),g=Object(D.a)(O,2),y=g[0],N=g[1],k=Object(n.useState)({formattedValue:"0",value:"0",floatValue:0}),C=Object(D.a)(k,2),x=C[0],w=C[1],S=Object(n.useState)([]),F=Object(D.a)(S,2),A=F[0],_=F[1];Object(n.useEffect)((function(){function e(){return(e=Object(T.a)(V.a.mark((function e(){var t;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.get("/provider");case 2:t=e.sent,l(t.data.providers);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var q=function(){var e=Object(T.a)(V.a.mark((function e(t){var a;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),m.id){e.next=4;break}return i.b.warning("Selecione um fornecedor existente."),e.abrupt("return");case 4:if(""!==(a={index:A.length+1,provider_id:m.id,description:p.current.value,detail:f.current.value,unit:b.current.value,quantity:h.floatValue,purchase_price:y.floatValue,sale_value:x.floatValue}).description&&""!==a.quantity&&""!==a.purchase_price&&""!==a.sale_value){e.next=8;break}return i.b.warning("Preencha os campos para depois adicionar a lista."),e.abrupt("return");case 8:_([a].concat(Object(ce.a)(A))),p.current.value="",f.current.value="",b.current.value="",j({formattedValue:"0",value:"0",floatValue:0}),N({formattedValue:"0",value:"0",floatValue:0}),w({formattedValue:"0",value:"0",floatValue:0});case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var t=Object(T.a)(V.a.mark((function t(){var a;return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,H.post("/stock",A.map((function(e){return{provider_id:m.id,description:p.current.value,detail:f.current.value,unit:b.current.value,quantity:h.floatValue,purchase_price:y.floatValue,sale_value:x.floatValue}})));case 2:a=t.sent,i.b.success(a.data.message),e.goBack();case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-4"},r.a.createElement(ie,{label:"Fornecedor",id:"inputFornecedor",name:"inputFornecedor",value:m.nickname||"",readOnly:!0},r.a.createElement(ue,{title:"Lista de Fornecedores",data:c,onSelected:function(e){d(e)}},r.a.createElement(P.TableHeaderColumn,{dataField:"id",isKey:!0,width:"10%"},"#"),r.a.createElement(P.TableHeaderColumn,{dataField:"nickname"},"Descri\xe7\xe3o"),r.a.createElement(P.TableHeaderColumn,{dataField:"cnpj",width:"20%"},"CNPJ/CPF")),r.a.createElement("button",{className:"btn btn-secondary",onClick:function(){return e.push("/fornecedor/register")}},"Criar")),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"inputDescription"},"Descri\xe7\xe3o"),r.a.createElement("input",{type:"text",className:"form-control",id:"inputDescription",ref:p})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"inputDetail"},"Detalhe"),r.a.createElement("input",{type:"text",className:"form-control",id:"inputDetail",ref:f})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"inputUnit"},"Unidade de Medida"),r.a.createElement("input",{type:"text",className:"form-control",id:"inputUnit",ref:b})),r.a.createElement(se,{label:"Quantidade",id:"quantity",name:"quantity",prefix:"",value:h.formattedValue,onValueChange:function(e){return j(e)}}),r.a.createElement(se,{label:"Valor da Compra",id:"purchase_price",name:"purchase_price",value:y.formattedValue,onValueChange:function(e){return N(e)}}),r.a.createElement(se,{label:"Valor de Venda",id:"sale_value",name:"sale_value",value:x.formattedValue,onValueChange:function(e){return w(e)}}),r.a.createElement("div",{className:"d-flex justify-content-end"},r.a.createElement(I.a,{variant:"success",onClick:q},"Adicionar")),0===A.length||r.a.createElement(I.a,{variant:"primary",onClick:R},"Salvar Lista de Produtos")),r.a.createElement("div",{className:"col-8"},r.a.createElement(L,{data:A,pagination:!1,search:!1,exportCSV:!1},r.a.createElement(P.TableHeaderColumn,{dataField:"index",width:"8%",isKey:!0,dataFormat:function(e,t){return r.a.createElement("span",{onClick:function(){return _(A.filter((function(e){return e!==t})))}},r.a.createElement(le.b,{title:"Revomer produto da lista",color:"red"}))}},"#"),r.a.createElement(P.TableHeaderColumn,{dataField:"description"},"Produto (descri\xe7\xe3o)"),r.a.createElement(P.TableHeaderColumn,{dataField:"quantity",width:"10%",dataFormat:ae},"Qt."),r.a.createElement(P.TableHeaderColumn,{dataField:"purchase_price",width:"15%",dataFormat:ne},"R$ Compra"),r.a.createElement(P.TableHeaderColumn,{dataField:"sale_value",width:"15%",dataFormat:ne},"R$ Venda"))))},de=function(){var e=Object(u.g)(),t=Object(u.h)(0).id,a=Object(n.useState)({description:"",detail:"",unit:"",quantity:"",quantity_of:"",purchase_price:"",sale_value:""}),c=Object(D.a)(a,2),l=c[0],o=c[1];Object(n.useEffect)((function(){t?H.get("/stock/".concat(t)).then((function(t){var a=Object(D.a)(t.data.stock,1)[0];if(!a)return i.b.error(t.data.message),void e.push("/estoque/register");console.info(a),o({nickname:a.nickname,description:a.description,detail:a.detail,unit:a.unit,quantity:a.quantity,quantity_of:a.quantity_of,purchase_price:a.purchase_price,sale_value:a.sale_value})})).catch((function(e){i.b.error("Erro ao acessar API"),console.error(e)})):e.push("/estoque")}),[e,t]);var s=Object(n.useCallback)(function(){var a=Object(T.a)(V.a.mark((function a(n){var r;return V.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n.preventDefault(),a.next=3,H.delete("/stock/".concat(t));case 3:r=a.sent,i.b.success(r.data.message),e.push("/estoque");case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),[e,t]);return r.a.createElement("div",null,r.a.createElement("h2",null,"Tem certeza que deseja deletar:"),r.a.createElement("div",{className:"mt-4 mb-4 justify-content-center"},r.a.createElement("p",null,"Fornecedor: ",l.nickname),r.a.createElement("p",null,"Descri\xe7\xe3o: ",l.description),r.a.createElement("p",null,"Detalhe: ",l.detail),r.a.createElement("p",null,"Unidade: ",l.unit),r.a.createElement("p",null,"Quantidade: ",l.quantity),r.a.createElement("p",null,"Quantidade Vendida: ",l.quantity_of),r.a.createElement("p",null,"Pre\xe7o: ",l.purchase_price),r.a.createElement("p",null,"Pre\xe7o Venda: ",l.sale_value)),r.a.createElement(I.a,{variant:"danger",onClick:s},"Confirmar remo\xe7\xe3o"))},pe=a(182),fe=a(183),be=function(){return r.a.createElement("button",{className:"btn btn-primary",onClick:function(){return window.print()}},"Imprimir")},Ee=function(){return r.a.createElement("div",{className:"bg-primary  d-flex-column  text-white d-flex  justify-content-between  align-items-center p-3"},r.a.createElement("div",{className:"justify-content-center"},r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(h,null))),r.a.createElement("div",{className:"text-center ml-2"},r.a.createElement("span",{className:"h5 font-italic"},"Para Crescer,"),r.a.createElement("span",{className:"h5 font-weight-bold"}," Use a Cuca.")),r.a.createElement("div",null,r.a.createElement("div",{className:"text-center"},r.a.createElement("span",{className:""},"MARKETING & PROPAGANDA")),r.a.createElement("div",{className:"text-center"},r.a.createElement("span",{className:""},"FOTOS & FILMAGENS")),r.a.createElement("div",{className:"text-center"},r.a.createElement("span",{className:"h5 font-weight-bold"},"CNPJ: 28.110.511/0001-85"))))};function ve(){var e=Object(g.a)(["\n  @media print {\n    html,\n    button,\n    span.order,\n    .noprint {\n      display: none;\n      visibility: hidden;\n    }\n\n    .print {\n      margin: 0;\n      box-shadow: 0;\n      visibility: visible;\n    }\n\n    @page {\n      size: A4;\n      margin: 5mm 6mm 2mm 6mm;\n      page-break-after: always;\n    }\n  }\n"]);return ve=function(){return e},e}var he=y.a.div(ve()),je=function(){var e=Object(u.g)(),t=Object(n.useState)(!1),a=Object(D.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)([]),s=Object(D.a)(o,2),m=s[0],d=s[1],p=Object(n.useState)([]),f=Object(D.a)(p,2),b=f[0],E=f[1],v=Object(n.useState)([]),h=Object(D.a)(v,2),j=h[0],O=h[1],g=Object(n.useState)(""),y=Object(D.a)(g,2),N=y[0],k=y[1],C=Object(n.useState)(""),x=Object(D.a)(C,2),w=x[0],S=x[1],F=Object(n.useState)(!1),A=Object(D.a)(F,2),_=A[0],q=A[1],R=Object(n.useState)(),J=Object(D.a)(R,2),W=J[0],z=J[1],U=Object(n.useState)(),Q=Object(D.a)(U,2),G=Q[0],Z=Q[1];Object(n.useEffect)((function(){function e(){return(e=Object(T.a)(V.a.mark((function e(){var t;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,H.get("/stock");case 3:t=e.sent,d(t.data.stocks),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),i.b.error("Erro de rede ao acessar API"),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(n.useEffect)((function(){function e(){return(e=Object(T.a)(V.a.mark((function e(){var t;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,H.get("/provider");case 3:t=e.sent,O(t.data.providers),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),i.b.error("Erro de rede ao acessar API"),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(n.useEffect)((function(){var e=m;""!==N&&(e=e.filter((function(e){return e.provider_id===Number(N)}))),""!==w&&(e=e.filter((function(e){return e.description.toLowerCase().includes(w.toLowerCase())}))),console.log(_),_&&(e=e.filter((function(e){return e.quantity-e.quantity_of<=1}))),E(e)}),[c,w,N,_,m]),Object(n.useEffect)((function(){E(m)}),[m]),Object(n.useEffect)((function(){z(b.reduce((function(e,t){return e+t.purchase_price*(t.quantity-t.quantity_of)}),0))}),[b]),Object(n.useEffect)((function(){Z(b.reduce((function(e,t){return e+t.sale_value*(t.quantity-t.quantity_of)}),0))}),[b]),Object(n.useEffect)((function(){c||(k(""),E([]),q(!1))}),[c]);var B=Object(n.useCallback)((function(e){l(e.currentTarget.checked)}),[]);return r.a.createElement(he,null,r.a.createElement("div",{className:"my-2 noprint"},r.a.createElement("div",null,r.a.createElement("div",{className:"row d-flex justify-content-start align-items-center"},c&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"col-2"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"selectFornecedor"},"Fornecedor"),r.a.createElement("select",{id:"selectFornecedor",className:"form-control",value:N,onChange:function(e){return k(e.target.value)}},r.a.createElement("option",{value:""},"Selecione..."),j.map((function(e,t){return r.a.createElement("option",{key:t,value:e.id},e.nickname)}))))),r.a.createElement("div",{className:"col-2"},r.a.createElement("div",{className:"from-group"},r.a.createElement("label",{htmlFor:"inputDescricao"},"Produto"),r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{className:"form-control",type:"text",id:"inputDescricao",value:w,onChange:function(e){return S(e.target.value)}}),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("button",{className:"btn btn-secondary",onClick:function(){return S("")}},"X"))))),r.a.createElement("div",{className:"col-2"},r.a.createElement("div",{className:"form-group form-check"},r.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"checkStockEmpty",checked:_,onChange:function(e){return q(e.target.checked)}}),r.a.createElement("label",{className:"form-check-label",htmlFor:"checkStockEmpty"},"Produto em Falta")))),r.a.createElement("div",{className:"col-2"},r.a.createElement(pe.a,{toggle:!0},r.a.createElement(fe.a,{type:"checkbox",variant:"secondary",checked:c,value:"1",onChange:B},c?"Todos":"Filtrar")))),r.a.createElement("div",{className:"btn-group my-2",role:"group"},r.a.createElement(I.a,{variant:"secondary",onClick:function(){return e.goBack()}},"Voltar"),r.a.createElement(be,null)))),r.a.createElement("div",null,r.a.createElement("div",{className:"print"},r.a.createElement(Ee,null),r.a.createElement("div",{className:" mb-auto"},r.a.createElement("p",{className:"h2 text-center m-4"},"Relatorio de Estoque"),r.a.createElement(Oe,{search:N,list:j}),r.a.createElement("div",{className:"mt-3"},r.a.createElement(L,{keyField:"id",pagination:!1,search:!1,exportCSV:!1,data:b,trClassName:function(e,t){if(e.quantity-e.quantity_of<=0)return"bg-danger text-white"}},r.a.createElement(P.TableHeaderColumn,{dataField:"id",width:"8%",dataSort:!0},"#"),r.a.createElement(P.TableHeaderColumn,{dataField:"description",dataSort:!0},"Descri\xe7\xe3o"),r.a.createElement(P.TableHeaderColumn,{dataField:"unit",width:"8%"},"Und."),r.a.createElement(P.TableHeaderColumn,{dataField:"quantity",width:"7%"},"Qt."),r.a.createElement(P.TableHeaderColumn,{dataField:"quantity_of",width:"8%"},"Qt_of."),r.a.createElement(P.TableHeaderColumn,{dataField:"purchase_price",dataSort:!0,width:"12%",dataFormat:ne},"Vl_Compra"),r.a.createElement(P.TableHeaderColumn,{dataField:"sale_value",dataSort:!0,width:"10%",dataFormat:ne},"Vl_Venda"),r.a.createElement(P.TableHeaderColumn,{dataField:"created_at",dataSort:!0,width:"15%",dataFormat:te},"Criado"))),r.a.createElement("div",{className:"mt-3"},r.a.createElement("p",{className:"h4"},"Valor de Compra: ",r.a.createElement(ee,{value:W})),r.a.createElement("p",{className:"h4"},"Valor de Venda: ",r.a.createElement(ee,{value:G}))))),r.a.createElement("div",{className:"mt-2"},r.a.createElement(be,null))))};function Oe(e){var t=e.search,a=e.list.filter((function(e){return e.id===Number(t)})),n=Object(D.a)(a,1)[0];return n?r.a.createElement("div",null,r.a.createElement("p",null," Fornecedor: ",n.nickname),r.a.createElement("p",null," Fone: ",n.telephone),r.a.createElement("p",null," Email: ",n.email)):""}var ge=function(){var e=Object(u.i)().path;return r.a.createElement("div",null,r.a.createElement(S,null),r.a.createElement("div",{className:"container-fluid"},r.a.createElement("main",null,r.a.createElement(u.d,null,r.a.createElement(u.b,{exact:!0,path:e},r.a.createElement(re,null)),r.a.createElement(u.b,{exact:!0,path:"".concat(e,"/register")},r.a.createElement(me,null)),r.a.createElement(u.b,{exact:!0,path:"".concat(e,"/print")},r.a.createElement(je,null)),r.a.createElement(u.b,{exact:!0,path:"".concat(e,"/delete/:id")},r.a.createElement(de,null))))))},ye=function(){var e=Object(u.g)(),t=Object(n.useState)([]),a=Object(D.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)({row:{},isSelected:!1}),s=Object(D.a)(o,2),m=s[0],d=s[1];Object(n.useEffect)((function(){function e(){return(e=Object(T.a)(V.a.mark((function e(){var t;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,H.get("/budget");case 3:t=e.sent,l(t.data.budgets),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),i.b.error("Erro ao acessar API"),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var p=Object(n.useCallback)((function(e,t){d({row:e,isSelected:t})}),[]);return r.a.createElement("div",null,r.a.createElement("div",{className:"d-flex justify-content-center"},m.isSelected&&r.a.createElement("div",{className:"btn-group ",role:"group"},r.a.createElement(I.a,{variant:"primary",className:"p-2",onClick:function(){return e.push("/venda/".concat(m.row.id))}},"Abrir o Or\xe7amento"),r.a.createElement(I.a,{variant:"success",className:"p-2",onClick:function(){return e.push("/orcamento/print/".concat(m.row.id))}},"Imprimir Orcamento"),r.a.createElement(I.a,{variant:"danger",className:"p-2",onClick:function(){return e.push("/orcamento/delete/".concat(m.row.id))}},"Deletar Orcamento"))),r.a.createElement(L,{data:c,onSelect:p,keyField:"id"},r.a.createElement(P.TableHeaderColumn,{dataField:"id",dataSort:!0,width:"5%"},"Cod"),r.a.createElement(P.TableHeaderColumn,{dataField:"name",dataSort:!0},"Nome"),r.a.createElement(P.TableHeaderColumn,{dataField:"amount",width:"10%",dataFormat:ne},"Valor Total"),r.a.createElement(P.TableHeaderColumn,{dataField:"created_at",dataSort:!0,width:"10%",dataFormat:te},"Data")))},Ne=a(106),ke=a.n(Ne),Ce=function(){return r.a.createElement("div",{className:"bg-primary  d-flex-column  text-white d-flex  justify-content-between  align-items-center p-3"},r.a.createElement("div",{className:"justify-content-center"},r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(h,{width:"252"})),r.a.createElement("div",{className:"text-center"},r.a.createElement("span",{className:""},"MARKETING & PROPAGANDA")),r.a.createElement("div",{className:"text-center"},r.a.createElement("span",{className:""},"FOTOS & FILMAGENS")),r.a.createElement("div",{className:"text-center"},r.a.createElement("span",{className:"h5 font-weight-bold"},"CNPJ: 28.110.511/0001-85"))),r.a.createElement("div",{className:"text-center ml-2"},r.a.createElement("span",{className:"h5 font-italic"},"Para Crescer,"),r.a.createElement("span",{className:"h5 font-weight-bold"}," Use a Cuca.")),r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("img",{src:ke.a,height:"90px",alt:"whatsapp"})),r.a.createElement("div",null,r.a.createElement("div",{className:"text-monospace"},r.a.createElement(s.f,{className:"mx-2"}),"62",r.a.createElement("span",{className:"  mx-2"},"3383-3046")),r.a.createElement("div",{className:"text-monospace"},r.a.createElement(s.k,{className:"mx-2"}),"62",r.a.createElement("span",{className:"  mx-2"},"98314-8780")),r.a.createElement("div",{className:"text-monospace"},r.a.createElement(s.k,{className:"mx-2"}),"62",r.a.createElement("span",{className:"  mx-2"},"98204-0184")),r.a.createElement("div",null,r.a.createElement(s.b,{className:"mx-2"}),r.a.createElement("span",null,"cuca_altohorizonte@gmail.com")),r.a.createElement("div",null,r.a.createElement(s.c,{className:"mx-2"}),r.a.createElement("span",null,"cuca_altohorizonte")),r.a.createElement("div",null,r.a.createElement(s.d,{className:"mx-2"}),r.a.createElement("span",null,"@cuca_altohorizonte")),r.a.createElement("div",null,r.a.createElement(s.e,{className:"mx-2"}),r.a.createElement("span",null," Av. Getulio Vargas, 82 - Centro"))))},xe=function(){var e=Object(u.g)(),t=Object(u.h)(0).id,a=Object(n.useState)({}),c=Object(D.a)(a,2),l=c[0],o=c[1],s=Object(n.useState)({}),m=Object(D.a)(s,2),d=m[0],p=m[1],f=Object(n.useState)([]),b=Object(D.a)(f,2),E=b[0],v=b[1],h=Object(n.useState)(""),j=Object(D.a)(h,2),O=j[0],g=j[1];Object(n.useEffect)((function(){t?H.get("/budget/".concat(t)).then((function(t){if(!t.data.budget)return i.b.error("orcamento n\xe3o encontrado"),void e.push("/orcamento");var a=t.data.wish_list.map((function(e,t){return Object(K.a)({index:t+1},e)}));v(a),o(t.data.budget),p(t.data.client)})).catch((function(e){i.b.error("Erro ao acessar API"),console.error(e)})):e.push("/orcamento")}),[e,t]),Object(n.useEffect)((function(){g(r.a.createElement(X,{value:String(l.created_at)}))}),[l]);var y=Object(n.useMemo)((function(){return r.a.createElement(L,{data:E,pagination:!1,search:!1,exportCSV:!1},r.a.createElement(P.TableHeaderColumn,{dataField:"index",isKey:!0,dataSort:!0,width:"5%"},"#"),r.a.createElement(P.TableHeaderColumn,{dataField:"description",dataSort:!0},"Descri\xe7\xe3o"),r.a.createElement(P.TableHeaderColumn,{dataField:"detail"},"Detalhe"),r.a.createElement(P.TableHeaderColumn,{dataField:"quantity",dataSort:!0,width:"10%",dataFormat:ae},"Quant."),r.a.createElement(P.TableHeaderColumn,{dataField:"sale_value",width:"15%",dataSort:!0,dataFormat:ne},"Valor Unit."),r.a.createElement(P.TableHeaderColumn,{dataField:"amount",dataSort:!0,width:"15%",dataFormat:ne},"Valor Total"))}),[E]);return r.a.createElement(he,null,r.a.createElement("div",{className:"btn-group mb-5 noprint",role:"group"},r.a.createElement(I.a,{variant:"secondary",onClick:function(){return e.goBack()}},"Voltar"),r.a.createElement(be,null)),r.a.createElement("div",{className:"print"},r.a.createElement(Ce,null),r.a.createElement("div",{className:" mb-auto"},r.a.createElement("p",{className:"h1 text-center m-4  "},"Or\xe7amento"),r.a.createElement("p",{className:"h4 my-2"},"Codigo: ",r.a.createElement(ee,{format:"###########",value:Number(t)})),r.a.createElement("p",{className:"text-right"},"Alto Horizonte-GO, ",O),r.a.createElement("p",{className:"text-right text-muted"},"Valido por 30 dias (ou ate dura o estoque)"),r.a.createElement("p",{className:"font-weight-bold text-uppercase mb-2"},"Cliente: ",d.name),r.a.createElement("p",{className:"mb-2"},"CPF/CNPJ: ",d.cpf),r.a.createElement("div",{className:"mt-3"},r.a.createElement("p",{className:"text-right font-weight-bold"},r.a.createElement("span",{className:"h4"},r.a.createElement(ee,{value:Number(l.amount)}))),y))),r.a.createElement(be,null))},we=function(){var e=Object(u.g)(),t=Object(u.h)(0).id,a=Object(n.useState)({}),c=Object(D.a)(a,2),l=c[0],o=c[1],s=Object(n.useState)({}),m=Object(D.a)(s,2),d=m[0],p=m[1],f=Object(n.useState)([]),b=Object(D.a)(f,2),E=b[0],v=b[1];function h(){return(h=Object(T.a)(V.a.mark((function a(n){var r;return V.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n.preventDefault(),a.next=3,H.delete("/budget/".concat(t));case 3:r=a.sent,i.b.success(r.data.message),e.push("/orcamento");case 6:case"end":return a.stop()}}),a)})))).apply(this,arguments)}return Object(n.useEffect)((function(){function a(){return(a=Object(T.a)(V.a.mark((function a(){var n,r;return V.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,H.get("/budget/".concat(t));case 3:if(n=a.sent,r=n.data.budget){a.next=9;break}return i.b.error("orcamento n\xe3o encontrado"),e.push("/orcamento"),a.abrupt("return");case 9:o(r),a.next=16;break;case 12:a.prev=12,a.t0=a.catch(0),i.b.error("Erro ao acessar API"),console.error(a.t0);case 16:case"end":return a.stop()}}),a,null,[[0,12]])})))).apply(this,arguments)}t?function(){a.apply(this,arguments)}():e.push("/orcamento")}),[e,t]),Object(n.useEffect)((function(){function a(){return(a=Object(T.a)(V.a.mark((function a(){var n,r;return V.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,H.get("/requested_budget/".concat(t));case 3:if(n=a.sent,r=n.data.requested_budgets){a.next=9;break}return i.b.error("orcamento n\xe3o encontrado"),e.push("/orcamento"),a.abrupt("return");case 9:v(r),a.next=16;break;case 12:a.prev=12,a.t0=a.catch(0),i.b.error("Erro ao acessar API"),console.error(a.t0);case 16:case"end":return a.stop()}}),a,null,[[0,12]])})))).apply(this,arguments)}t?function(){a.apply(this,arguments)}():e.push("/orcamento")}),[e,t]),Object(n.useEffect)((function(){function t(){return(t=Object(T.a)(V.a.mark((function t(){var a,n;return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,H.get("/client/".concat(l.client_id));case 3:if(a=t.sent,n=a.data.client){t.next=9;break}return i.b.error("orcamento n\xe3o encontrado"),e.push("/orcamento"),t.abrupt("return");case 9:p(n),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(0),i.b.error("Erro ao acessar API"),console.error(t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,12]])})))).apply(this,arguments)}l.client_id&&function(){t.apply(this,arguments)}()}),[e,l]),r.a.createElement("div",null,r.a.createElement("h2",null,"Tem certeza que deseja deletar:"),r.a.createElement("div",{className:"mt-4 mb-4"},r.a.createElement("p",null,"Cliente: ",d.name),r.a.createElement("p",null,"Valor Total: ",l.amount),r.a.createElement("p",null,"Produtos: "),E.map((function(e){return r.a.createElement("div",null,r.a.createElement("p",null,"descric\xe3o: ",e.description),r.a.createElement("p",null,"quantidade: ",e.quantity),r.a.createElement("p",null,"valor: ",e.amount))}))),r.a.createElement(I.a,{variant:"danger",onClick:function(e){return h.apply(this,arguments)}},"Confirmar remo\xe7\xe3o"))},Se=function(){var e=Object(u.i)().path;return r.a.createElement("div",null,r.a.createElement(S,null),r.a.createElement("div",{className:"container-fluid"},r.a.createElement("main",null,r.a.createElement(u.d,null,r.a.createElement(u.b,{exact:!0,path:e},r.a.createElement(ye,null)),r.a.createElement(u.b,{exact:!0,path:"".concat(e,"/print/:id")},r.a.createElement(xe,null)),r.a.createElement(u.b,{exact:!0,path:"".concat(e,"/delete/:id")},r.a.createElement(we,null))))))};var Fe=r.a.memo((function(e){return r.a.createElement("div",{className:"row p-3 mb-2 bg-primary text-white d-flex justify-content-between align-items-center sticky-top"},r.a.createElement("div",null,r.a.createElement(o.b,{to:"/",className:"text-white"},r.a.createElement(h,{width:"120px"})),r.a.createElement("h3",null,e.title)),e.children?r.a.createElement("div",{className:"mx-3 d-flex flex-column"},r.a.createElement("h4",{className:"text-right"},"Cliente:"),r.a.createElement("h2",{className:"text-right"},e.children)):"",r.a.createElement("div",{className:"mx-3 d-flex flex-column"},r.a.createElement("h4",{className:"text-right"},"Itens:"),r.a.createElement("h2",{className:"text-right"},e.quantidadeDeItens)),r.a.createElement("div",{className:"mx-3 d-flex flex-column"},r.a.createElement("h4",{className:"text-right"}," Valor total do pedido:"),r.a.createElement("h2",{className:"text-right"},e.valorTotal)))})),Ve=function(){var e=Object(u.g)(),t=Object(n.useState)([]),a=Object(D.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)({}),i=Object(D.a)(o,2),s=i[0],m=i[1],d=Object(n.useState)(),p=Object(D.a)(d,2),f=p[0],b=p[1];Object(n.useEffect)((function(){b((new Date).toISOString().substring(0,10))}),[]),Object(n.useEffect)((function(){function e(){return(e=Object(T.a)(V.a.mark((function e(){var t;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.get("/client");case 2:t=e.sent,l(t.data.clients);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var E=Object(n.useCallback)((function(e){m(e)}),[]),v=Object(n.useCallback)(Object(T.a)(V.a.mark((function t(){var a,n;return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={client_id:s.id,amount:0,created_at:f},t.next=3,H.post("budget",a);case 3:n=t.sent,e.push("/venda/".concat(n.data.id));case 5:case"end":return t.stop()}}),t)}))),[f,e,s.id]);return r.a.createElement("div",{className:"container-fluid"},r.a.createElement(Fe,{title:"Ponto de Venda",quantidadeDeItens:0,valorTotal:r.a.createElement(ee,{value:0})}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-4"},r.a.createElement(ie,{label:"Cliente",id:"inputCliente",name:"inputCliente",value:s.name||"",readOnly:!0},r.a.createElement(ue,{title:"Lista de Clientes",data:c,onSelected:E},r.a.createElement(P.TableHeaderColumn,{dataField:"id",isKey:!0,width:"10%"},"#"),r.a.createElement(P.TableHeaderColumn,{dataField:"name"},"Nome"),r.a.createElement(P.TableHeaderColumn,{dataField:"cpf",width:"30%"},"CPF/CNPJ")),r.a.createElement("button",{className:"btn btn-secondary",onClick:function(){return e.push("/cliente/register")}},"Criar")),r.a.createElement(ie,{label:"Data",type:"date",id:"inputData",name:"inputData",defaultValue:f,onChange:function(e){return b(e.target.value)}}),r.a.createElement("button",{className:"btn btn-primary",onClick:v},"Registra o pedido"))))};function Te(e){return 0===Object.keys(e).length}var De=function(){var e=Object(u.g)(),t=Object(u.h)(0).id,a=Object(n.useState)({}),c=Object(D.a)(a,2),l=c[0],o=c[1],s=Object(n.useState)([]),m=Object(D.a)(s,2),d=m[0],p=m[1],f=Object(n.useState)({}),b=Object(D.a)(f,2),E=b[0],v=b[1],h=Object(n.useState)([]),j=Object(D.a)(h,2),O=j[0],g=j[1],y=Object(n.useState)({value:"1",formattedValue:"1",floatValue:1}),N=Object(D.a)(y,2),k=N[0],C=N[1],x=Object(n.useState)([]),w=Object(D.a)(x,2),S=w[0],F=w[1],A=Object(n.useState)(),_=Object(D.a)(A,2),q=_[0],R=_[1],J=Object(n.useState)(0),W=Object(D.a)(J,2),z=W[0],U=W[1],Q=Object(n.useState)(!1),G=Object(D.a)(Q,2),Z=G[0],B=G[1],M=Object(n.useState)({}),X=Object(D.a)(M,2),Y=X[0],$=X[1];Object(n.useEffect)((function(){function e(){return(e=Object(T.a)(V.a.mark((function e(){var a,n;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.get("budget/".concat(t));case 2:a=e.sent,n=a.data.budget,o(n),R(n.created_at);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}"0"!==t&&function(){e.apply(this,arguments)}()}),[t]),Object(n.useEffect)((function(){function e(){return(e=Object(T.a)(V.a.mark((function e(){var t,a;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.get("requested_budget/".concat(l.id));case 2:t=e.sent,a=t.data.requested_budgets,F(a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Te(l)||function(){e.apply(this,arguments)}()}),[l]),Object(n.useEffect)((function(){function e(){return(e=Object(T.a)(V.a.mark((function e(){var t,a;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.get("client/".concat(l.client_id));case 2:t=e.sent,a=t.data.client,g(a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Te(l)||function(){e.apply(this,arguments)}()}),[l]),Object(n.useEffect)((function(){R((new Date).toISOString().substring(0,10))}),[]),Object(n.useEffect)((function(){function e(){return(e=Object(T.a)(V.a.mark((function e(){var t,a;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,H.get("/stock");case 3:t=e.sent,a=t.data.stocks.filter((function(e){return e.quantity_of<e.quantity})),p(a),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),i.b.error("Erro ao acessar API"),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(n.useEffect)((function(){var e=S.reduce((function(e,t){return e+t.amount}),0);U(e)}),[S]),Object(n.useEffect)((function(){function e(){return(e=Object(T.a)(V.a.mark((function e(){var t,a;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.get("stock/".concat(Y.stock_id));case 2:t=e.sent,a=t.data.stock,v(a),C({value:String(Y.quantity),formattedValue:String(Y.quantity).replace(".",","),floatValue:Y.quantity});case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Z&&function(){e.apply(this,arguments)}()}),[Z,Y]);var te=Object(n.useCallback)((function(){v({}),C({value:"1",formattedValue:"1",floatValue:1}),$({}),B(!1)}),[]),re=Object(n.useCallback)(Object(T.a)(V.a.mark((function e(){var t;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=S.filter((function(e){return e!==Y})),e.next=4,H.delete("requested_budget/".concat(Y.id));case 4:F(t),te(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),[te,S,Y]),le=Object(n.useCallback)(Object(T.a)(V.a.mark((function e(){var a,n,r,c,l,o,u,s,m,d,p;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(E.description){e.next=3;break}return i.b.warning("Selecione um produto e confira a quantidade antes de adicionar a lista."),e.abrupt("return");case 3:if(a={},a=Z?Object(K.a)(Object(K.a)({},Y),{},{sale_value:E.sale_value,amount:parseFloat((E.sale_value*k.floatValue).toFixed(2)),quantity:k.floatValue}):{budget_id:t,created_at:q,description:E.description,detail:E.detail,stock_id:E.id,sale_value:E.sale_value,stock:E.quantity-E.quantity_of,amount:parseFloat((E.sale_value*k.floatValue).toFixed(2)),quantity:k.floatValue},!S.includes(Y)){e.next=20;break}return n=S.filter((function(e){return e!==Y})),e.prev=7,c=(r=a).id,l=r.amount,o=r.quantity,e.next=11,H.put("requested_budget/".concat(c),{amount:l,quantity:o});case 11:n.push(a),F(n),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(7),console.error(e.t0);case 18:e.next=34;break;case 20:if(!S.find((function(e){return e.stock_id===a.stock_id}))){e.next=24;break}return i.b.info("Este produto j\xe1 esta na lista de pedidos"),te(),e.abrupt("return");case 24:return e.prev=24,s=(u=a).budget_id,m=u.stock_id,d=u.amount,p=u.quantity,e.next=28,H.post("requested_budget",{budget_id:s,stock_id:m,amount:d,quantity:p});case 28:F([].concat(Object(ce.a)(S),[a])),e.next=34;break;case 31:e.prev=31,e.t1=e.catch(24),console.error(e.t1);case 34:te();case 35:case"end":return e.stop()}}),e,null,[[7,15],[24,31]])}))),[E.description,E.quantity,E.quantity_of,E.sale_value,E.detail,E.id,k.floatValue,Z,S,Y,te,t,q]),oe=Object(n.useCallback)((function(e){v(e);var t=parseFloat(e.quantity-e.quantity_of);C({formattedValue:t,floatValue:parseFloat(t),value:parseFloat(t)})}),[]),me=Object(n.useCallback)(function(){var e=Object(T.a)(V.a.mark((function e(t,a){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:$(t),B(a);case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),[]),de=Object(n.useCallback)(Object(T.a)(V.a.mark((function a(){var n,r;return V.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!S.find((function(e){return e.stock-e.quantity<0}))){a.next=3;break}return i.b.warning("Remova os itens em vermelho para continuar"),a.abrupt("return");case 3:return n=parseFloat(z.toFixed(2)),a.next=6,H.put("budget/".concat(l.id),Object(K.a)(Object(K.a)({},l),{},{amount:n}));case 6:if(200!==(r=a.sent).status){a.next=12;break}i.b.success(r.data.message),e.push("/venda/fechamentodevenda/".concat(t)),a.next=14;break;case 12:return i.b.error(r.data.message),a.abrupt("return");case 14:case"end":return a.stop()}}),a)}))),[e,t,S,l,z]);return r.a.createElement("div",{className:"container-fluid"},r.a.createElement(Fe,{title:"Ponto de Venda",quantidadeDeItens:S.length,valorTotal:r.a.createElement(ee,{value:z})},r.a.createElement("span",null,O.name)),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-4"},r.a.createElement(ie,{label:"Data",type:"date",id:"inputData",name:"inputData",defaultValue:q,onChange:function(e){return R(e.target.value)}}),l&&r.a.createElement(r.a.Fragment,null,r.a.createElement(ie,{label:"Produto",id:"inputProduto",name:"inputProduto",value:E.description||"",readOnly:!0},r.a.createElement(ue,{title:"Lista de Produtos",data:d,onSelected:oe,disable:Z},r.a.createElement(P.TableHeaderColumn,{dataField:"id",isKey:!0,width:"10%"},"#"),r.a.createElement(P.TableHeaderColumn,{dataField:"description"},"Descri\xe7\xe3o"),r.a.createElement(P.TableHeaderColumn,{dataField:"unit"},"Und."),r.a.createElement(P.TableHeaderColumn,{dataField:"detail",width:"20%"},"Detalhe"))),r.a.createElement(se,{label:"Quantidade",id:"inputQuantidade",name:"inputQuantidade",prefix:"",value:k.formattedValue,onValueChange:function(e){return C(e)}}),r.a.createElement("div",{className:"row justify-content-between p-3"},r.a.createElement("label",null,"Valor Unit."),r.a.createElement("h3",{className:"text-muted"},r.a.createElement(ee,{value:E.sale_value||0}))),r.a.createElement("div",{className:"row justify-content-between p-3"},r.a.createElement("label",null,"Valor"),r.a.createElement("h2",null,r.a.createElement(ee,{value:E.sale_value*k.floatValue||0}))),r.a.createElement("div",{className:"d-flex justify-content-end"},r.a.createElement("div",{className:"btn-group ",role:"group"},r.a.createElement(I.a,{variant:"success",onClick:le},"Adicionar"),Z&&r.a.createElement(r.a.Fragment,null,r.a.createElement(I.a,{variant:"danger",onClick:re},"Remover"),r.a.createElement(I.a,{variant:"secondary",onClick:te},"Cancelar"))))),0===S.length||r.a.createElement("div",{className:"btn-group d-flex justify-content-end mt-5"},r.a.createElement(I.a,{variant:"primary",onClick:de},"Finalizar o Pedido"))),r.a.createElement("div",{className:"col-8"},r.a.createElement(L,{data:S,pagination:!1,search:!1,exportCSV:!1,onSelect:null,onRowClick:me,trClassName:function(e,t){if(e.stock-e.quantity<0)return"bg-danger text-white"}},r.a.createElement(P.TableHeaderColumn,{isKey:!0,dataField:"stock_id",width:"8%"},"Cod."),r.a.createElement(P.TableHeaderColumn,{dataField:"description"},"Produto (descri\xe7\xe3o)"),r.a.createElement(P.TableHeaderColumn,{dataField:"quantity",width:"10%",dataFormat:ae},"Qt."),r.a.createElement(P.TableHeaderColumn,{dataField:"sale_value",width:"15%",dataFormat:ne},"Valor Unit."),r.a.createElement(P.TableHeaderColumn,{dataField:"amount",width:"15%",dataFormat:ne},"Valor Total")))))};function Ae(e){var t=e.label,a=Object(q.a)(e,["label"]);return r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:a.id},t),r.a.createElement("select",Object.assign({},a,{value:!0}),a.children))}var _e=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("option",null),r.a.createElement("option",null,"01"),r.a.createElement("option",null,"02"),r.a.createElement("option",null,"03"),r.a.createElement("option",null,"04"),r.a.createElement("option",null,"05"),r.a.createElement("option",null,"06"),r.a.createElement("option",null,"07"),r.a.createElement("option",null,"08"),r.a.createElement("option",null,"09"),r.a.createElement("option",null,"10"),r.a.createElement("option",null,"11"),r.a.createElement("option",null,"12"),r.a.createElement("option",null,"13"),r.a.createElement("option",null,"14"),r.a.createElement("option",null,"15"),r.a.createElement("option",null,"16"),r.a.createElement("option",null,"17"),r.a.createElement("option",null,"18"),r.a.createElement("option",null,"19"),r.a.createElement("option",null,"20"),r.a.createElement("option",null,"21"),r.a.createElement("option",null,"22"),r.a.createElement("option",null,"23"),r.a.createElement("option",null,"24"),r.a.createElement("option",null,"25"),r.a.createElement("option",null,"26"),r.a.createElement("option",null,"27"),r.a.createElement("option",null,"28"),r.a.createElement("option",null,"29"),r.a.createElement("option",null,"30"),r.a.createElement("option",null,"31"))},He=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("option",{value:""},"Selecione um mes"),r.a.createElement("option",{value:"01"},"Janeiro"),r.a.createElement("option",{value:"02"},"Fevereiro"),r.a.createElement("option",{value:"03"},"Mar\xe7o"),r.a.createElement("option",{value:"04"},"Abril"),r.a.createElement("option",{value:"05"},"Maio"),r.a.createElement("option",{value:"06"},"Junho"),r.a.createElement("option",{value:"07"},"Julho"),r.a.createElement("option",{value:"08"},"Agosto"),r.a.createElement("option",{value:"09"},"Setembro"),r.a.createElement("option",{value:"10"},"Outubro"),r.a.createElement("option",{value:"11"},"Novembro"),r.a.createElement("option",{value:"12"},"Dezembro"))};Ae.defaultProps={className:"form-control ",type:"select"};var Ie=function(){var e=Object(u.g)(),t=Object(u.h)(0).id,a=Object(n.useState)({}),c=Object(D.a)(a,2),l=c[0],o=c[1],s=Object(n.useState)({name:""}),m=Object(D.a)(s,2),d=m[0],p=m[1],f=Object(n.useState)([]),b=Object(D.a)(f,2),E=b[0],v=b[1],h=Object(n.useState)(0),j=Object(D.a)(h,2),O=j[0],g=j[1],y=Object(n.useState)({value:0,floatValue:0}),N=Object(D.a)(y,2),k=N[0],C=N[1],x=Object(n.useState)({value:0,floatValue:0}),w=Object(D.a)(x,2),S=w[0],F=w[1],A=Object(n.useState)("A vista"),_=Object(D.a)(A,2),I=_[0],q=_[1],R=Object(n.useState)(30),J=Object(D.a)(R,2),W=J[0],z=J[1];Object(n.useEffect)((function(){function e(){return(e=Object(T.a)(V.a.mark((function e(){var a,n;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.get("budget/".concat(t));case 2:a=e.sent,n=a.data.budget,o(n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}"0"!==t&&function(){e.apply(this,arguments)}()}),[t]),Object(n.useEffect)((function(){function e(){return(e=Object(T.a)(V.a.mark((function e(){var t,a;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.get("requested_budget/".concat(l.id));case 2:t=e.sent,a=t.data.requested_budgets,v(a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Te(l)||function(){e.apply(this,arguments)}()}),[l]),Object(n.useEffect)((function(){function e(){return(e=Object(T.a)(V.a.mark((function e(){var t,a;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.get("client/".concat(l.client_id));case 2:t=e.sent,a=t.data.client,console.log(l,"cliente: ",a),p(a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Te(l)||function(){e.apply(this,arguments)}()}),[l]),Object(n.useEffect)((function(){var e=E.reduce((function(e,t){return e+t.amount}),0);g(e)}),[E]),Object(n.useEffect)((function(){"A vista"===I&&(z(30),F({value:0,floatValue:0}))}),[I]);var U=Object(n.useCallback)((function(e){""===e.formattedValue&&(e={value:0,floatValue:0}),C(e)}),[]),Q=Object(n.useCallback)(Object(T.a)(V.a.mark((function a(){var n,r,c,l,o,u,s,m,p,f,b,E;return V.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:for(n=[],r=W/30,c=(new Date).toISOString().substring(0,10).split("-").map((function(e){return parseInt(e)})),l=Object(D.a)(c,3),o=l[0],u=l[1],s=l[2],u--,m=d.name,p=parseFloat(((O-(k.floatValue+S.floatValue))/(W/30)).toFixed(2)),f=0,S.floatValue&&(b="".concat(d.name," - entrada"),r++,f++,n.push({budget_id:t,description:b,amount:S.floatValue,all_parcel:r,parcel:f,date_sale:new Date(o,u,s).toISOString().substring(0,10)})),u="A prazo"===I?++u:u;f<r;)f++,n.push({budget_id:t,description:m,amount:p,all_parcel:r,parcel:f,date_sale:new Date(o,u,s).toISOString().substring(0,10)}),u++;return a.next=12,H.post("/sale",n);case 12:200===(E=a.sent).status?(i.b.success(E.data.message),e.push("/venda")):i.b.error(E.data.message);case 14:case"end":return a.stop()}}),a)}))),[d,k.floatValue,S.floatValue,e,t,W,I,O]);return r.a.createElement("div",{className:"container-fluid"},r.a.createElement(Fe,{title:"Finalizar Venda",quantidadeDeItens:E.length,valorTotal:"A vista"===I?r.a.createElement(ee,{value:O}):r.a.createElement("div",null,r.a.createElement("span",null,W," X ")," ",r.a.createElement(ee,{value:parseFloat(((O-(k.floatValue+S.floatValue))/(W/30)).toFixed(2))}))}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-3"},r.a.createElement(se,{label:"Desconto",id:"inputDesconto",name:"inputDesconto",value:k.formattedValue,onValueChange:U}),r.a.createElement(Ae,{label:"Pagamento",id:"selectedPagamento",name:"selectedPagamento",value:I,onChange:function(e){return q(e.target.value)}},r.a.createElement("option",null,"A vista"),r.a.createElement("option",null,"A prazo")),"A prazo"===I&&r.a.createElement(r.a.Fragment,null,r.a.createElement(ie,{label:"Parcelas",type:"Number",id:"inputParcelas",name:"inputParcelas",min:"30",max:"120",step:"30",value:W,onChange:function(e){return z(e.target.value)}}),r.a.createElement(se,{label:"Entrada",id:"inputEntrada",name:"inputEntrada",value:S.formattedValue,onValueChange:function(e){return F(e)}})),r.a.createElement("button",{className:"btn btn-primary",onClick:Q},"Confirmar Conclus\xe3o da Venda")),r.a.createElement("div",{className:"col-9"},r.a.createElement("button",{className:"btn btn-success m-2",onClick:function(){return e.push("/orcamento/print/".concat(t))}},"Imprimir Orcamento"),r.a.createElement("p",{className:"text-right"},r.a.createElement(X,{value:String(l.created_at)})),r.a.createElement("p",{className:"font-weight-bold text-uppercase mb-2"},"Cliente: ",d.name),r.a.createElement("p",{className:"text-right"},"Valor Total:",r.a.createElement(ee,{value:parseFloat((O-(k.floatValue+S.floatValue)).toFixed(2))})),r.a.createElement("p",{className:"text-right"},"Desconto: ",r.a.createElement(ee,{value:k.floatValue||0})),"A prazo"===I&&r.a.createElement("p",{className:"text-right"},"Entrada: ",r.a.createElement(ee,{value:S.floatValue||0})),r.a.createElement("div",{className:"mt-3"},r.a.createElement(L,{data:E,keyField:"index",pagination:!1,search:!1,exportCSV:!1},r.a.createElement(P.TableHeaderColumn,{dataField:"index",width:"5%"},"#"),r.a.createElement(P.TableHeaderColumn,{dataField:"description"},"Descri\xe7\xe3o"),r.a.createElement(P.TableHeaderColumn,{dataField:"detail"},"Detalhe"),r.a.createElement(P.TableHeaderColumn,{dataField:"quantity",width:"10%",dataFormat:ae},"Quant."),r.a.createElement(P.TableHeaderColumn,{dataField:"sale_value",width:"15%",dataFormat:ne},"Valor Unit."),r.a.createElement(P.TableHeaderColumn,{dataField:"amount",width:"15%",dataFormat:ne},"Valor Total"))))))},Pe=function(){var e=Object(u.i)().path;return r.a.createElement(u.d,null,r.a.createElement(u.b,{exact:!0,path:"".concat(e)},r.a.createElement(Ve,null)),r.a.createElement(u.b,{exact:!0,path:"".concat(e,"/:id")},r.a.createElement(De,null)),r.a.createElement(u.b,{exact:!0,path:"".concat(e,"/fechamentodevenda/:id")},r.a.createElement(Ie,null)))},qe=function(){var e=Object(u.g)(),t=Object(n.useState)([]),a=Object(D.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)({row:{},isSelected:!1}),s=Object(D.a)(o,2),m=s[0],d=s[1];Object(n.useEffect)((function(){H.get("/sale",{params:{date_sale:""}}).then((function(e){l(e.data.sales)})).catch((function(e){i.b.error("Erro de rede ao acessar API"),console.error(e)}))}),[]);var p=Object(n.useCallback)((function(e,t){d({row:e,isSelected:t})}),[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"d-flex mb-5 justify-content-center"},r.a.createElement("div",{className:"btn-group ",role:"group"},r.a.createElement(I.a,{variant:"primary",onClick:function(){return e.push("/entrada/register")}},"Cadastra Entrada"),m.isSelected&&!m.row.budget_id&&r.a.createElement(I.a,{variant:"danger",onClick:function(){return e.push("/entrada/delete/".concat(m.row.id))}},"Deletar Entrada"),r.a.createElement(I.a,{variant:"success",onClick:function(){return e.push("/entrada/print")}},"Relatorio de Ganhos"))),r.a.createElement("div",null,r.a.createElement(L,{data:c,onSelect:p},r.a.createElement(P.TableHeaderColumn,{dataField:"id",isKey:!0,dataSort:!0,width:"5%"},"Cod"),r.a.createElement(P.TableHeaderColumn,{dataField:"description",dataSort:!0},"Descri\xe7\xe3o"),r.a.createElement(P.TableHeaderColumn,{dataField:"parcel",width:"5%"},"De"),r.a.createElement(P.TableHeaderColumn,{dataField:"all_parcel",width:"5%"},"Par"),r.a.createElement(P.TableHeaderColumn,{dataField:"amount",dataSort:!0,width:"10%",dataFormat:ne},"Valor"),r.a.createElement(P.TableHeaderColumn,{dataField:"date_sale",dataSort:!0,width:"10%",dataFormat:te},"Data"))))},Re=a(185),Le=function(){var e=Object(u.g)(),t=Object(n.useState)(),a=Object(D.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)({floatValue:0}),s=Object(D.a)(o,2),m=s[0],d=s[1],p=Object(n.useState)(""),f=Object(D.a)(p,2),b=f[0],E=f[1],v=Object(n.useState)("A vista"),h=Object(D.a)(v,2),j=h[0],O=h[1],g=Object(n.useState)(1),y=Object(D.a)(g,2),N=y[0],k=y[1],C=Object(n.useState)([]),x=Object(D.a)(C,2),w=x[0],S=x[1];Object(n.useEffect)((function(){l((new Date).toISOString().substring(0,10))}),[]),Object(n.useEffect)((function(){if(m.floatValue&&b){var e=[],t=m.floatValue,a=c.split("-").map((function(e){return parseInt(e)})),n=Object(D.a)(a,3),r=n[0],l=n[1],o=n[2];l--;var u=parseFloat((t/N).toFixed(2)),i=0;do{i++,e.push({index:i,description:b,amount:u,all_parcel:N,parcel:i,date_sale:new Date(r,l,o).toISOString().substring(0,10)}),l++}while(i<N);S(e)}}),[c,m,b,j,N]);var F=Object(n.useCallback)(function(){var t=Object(T.a)(V.a.mark((function t(a){var n,r;return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n=w.map((function(e){e.index;return Object(q.a)(e,["index"])})),t.next=4,H.post("/sale",n);case 4:200===(r=t.sent).status?(i.b.success(r.data.message),e.goBack()):i.b.error(r.data.message);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[e,w]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row p-3"},r.a.createElement(I.a,{variant:"secondary",className:"mb-4",onClick:function(){return e.goBack()}},"Voltar")),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-3"},r.a.createElement(Re.a,null,r.a.createElement(ie,{label:"Data",type:"date",id:"inputData",name:"inputData",value:c,onChange:function(e){return l(e.target.value)}}),r.a.createElement(ie,{label:"Descri\xe7\xe3o",id:"inputDescricao",name:"inputDescricao",value:b,onChange:function(e){return E(e.target.value)}}),r.a.createElement(se,{label:"Valor",id:"inputValor",name:"inputValor",value:m.formattedValue,onValueChange:function(e){return d(e)}}),r.a.createElement(Ae,{label:"Pagamento",id:"selectedPagamento",name:"selectedPagamento",value:j,onChange:function(e){return O(e.target.value)}},r.a.createElement("option",null,"A vista"),r.a.createElement("option",null,"A prazo")),"A prazo"===j&&r.a.createElement(ie,{label:"Parcelas",type:"Number",id:"inputParcelas",name:"inputParcelas",min:"1",value:N,onChange:function(e){return k(e.target.value)}}),r.a.createElement(I.a,{variant:"primary",onClick:F},"Salvar Cadastro"))),r.a.createElement("div",{className:"col-9"},r.a.createElement(L,{data:w},r.a.createElement(P.TableHeaderColumn,{dataField:"index",isKey:!0,width:"5%"},"#"),r.a.createElement(P.TableHeaderColumn,{dataField:"description"},"Descri\xe7\xe3o"),r.a.createElement(P.TableHeaderColumn,{dataField:"parcel",width:"5%"},"De"),r.a.createElement(P.TableHeaderColumn,{dataField:"all_parcel",width:"5%"},"Parc."),r.a.createElement(P.TableHeaderColumn,{dataField:"amount",width:"10%",dataFormat:ne},"Valor"),r.a.createElement(P.TableHeaderColumn,{dataField:"date_sale",width:"10%",dataFormat:te},"Data")))))},Je=function(){var e=Object(u.g)(),t=Object(u.h)(0).id,a=Object(n.useState)({}),c=Object(D.a)(a,2),l=c[0],o=c[1];Object(n.useEffect)((function(){H.get("/sale/".concat(t)).then((function(t){if(500===t.status)return i.b.error("Venda n\xe3o encontrado"),void e.push("/entrada");o(t.data.sale)})).catch((function(e){i.b.error("Erro de rede ao acessar API venda"),console.error(e)}))}),[e,t]);var s=[];return r.a.createElement("div",null,r.a.createElement("h2",null,"Tem certeza que deseja deletar:"),r.a.createElement("div",{className:"mt-4 mb-4 justify-content-center"},r.a.createElement("p",null,"Codigo: ",l.id),r.a.createElement("p",null,"Descri\xe7\xe3o: ",l.description),r.a.createElement("p",null,"Parcela: ","".concat(l.parcel," de ").concat(l.all_parcel)),r.a.createElement("p",null,"Valor: ",r.a.createElement(ee,{value:l.amount})),r.a.createElement("p",null,"Data para receber: ",r.a.createElement(X,{value:l.date_sale})),r.a.createElement("p",null,"Data da venda: ",r.a.createElement(X,{value:l.created_at}))),r.a.createElement(I.a,{variant:"danger",onClick:s},"Confirmar remo\xe7\xe3o"))},We=function(){var e=Object(u.g)(),t=Object(n.useState)((new Date).getFullYear()),a=Object(D.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)(""),s=Object(D.a)(o,2),m=s[0],d=s[1],p=Object(n.useState)(""),f=Object(D.a)(p,2),b=f[0],E=f[1],v=Object(n.useState)(!0),h=Object(D.a)(v,2),j=h[0],O=h[1],g=Object(n.useState)([]),y=Object(D.a)(g,2),N=y[0],k=y[1],C=Object(n.useState)([]),x=Object(D.a)(C,2),w=x[0],S=x[1],F=Object(n.useState)(),A=Object(D.a)(F,2),_=A[0],q=A[1];Object(n.useEffect)((function(){function e(){return(e=Object(T.a)(V.a.mark((function e(){var t;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,H.get("/sale");case 3:t=e.sent,k(t.data.sales),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),i.b.error("Erro de rede ao acessar API"),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(n.useEffect)((function(){var e="";j&&(e+=c,e=""===m?e:[e,m,b].join("-"));var t=N.filter((function(t){return console.log(t,e),t.date_sale.includes(e)}));S(t)}),[c,j,b,m,N]),Object(n.useEffect)((function(){q(w.reduce((function(e,t){return e+t.amount}),0))}),[w]);var R=Object(n.useCallback)((function(e){O(e.currentTarget.checked),j&&(d(""),E(""))}),[j]);return r.a.createElement(he,null,r.a.createElement("div",{className:"my-2 noprint"},r.a.createElement("div",null,r.a.createElement("div",{className:"row d-flex justify-content-start align-items-center"},j&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"col-2"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"inputAno"},"Ano"),r.a.createElement("input",{className:"form-control",type:"Number",id:"inputAno",value:c,onChange:function(e){return l(e.target.value)}}))),r.a.createElement("div",{className:"col-2"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"selectMes"},"M\xeas"),r.a.createElement("select",{id:"selectMes",className:"form-control",value:m,onChange:function(e){return d(e.target.value)}},r.a.createElement(He,null)))),""!==m&&r.a.createElement("div",{className:"col-2"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"selectDia"},"Dia"),r.a.createElement("select",{className:"form-control",id:"selectDia",value:b,onChange:function(e){return E(e.target.value)}},r.a.createElement(_e,null))))),r.a.createElement("div",{className:"col-2"},r.a.createElement(pe.a,{toggle:!0},r.a.createElement(fe.a,{type:"checkbox",variant:"secondary",checked:j,value:"1",onChange:R},j?"Todos":"Filtrar")))),r.a.createElement("div",{className:"btn-group my-2",role:"group"},r.a.createElement(I.a,{variant:"secondary",onClick:function(){return e.goBack()}},"Voltar"),r.a.createElement(be,null)))),r.a.createElement("div",null,r.a.createElement("div",{className:"print"},r.a.createElement(Ee,null),r.a.createElement("div",{className:" mb-auto"},r.a.createElement("p",{className:"h2 text-center m-4  "},"Relatorio de Ganhos",j?" - ".concat(b?b+"/":b).concat(m?m+"/":m).concat(c):""),r.a.createElement("div",{className:"mt-3"},r.a.createElement("p",{className:"text-right font-weight-bold"},r.a.createElement("span",{className:"h3"},r.a.createElement(ee,{value:_}))),r.a.createElement(L,{keyField:"id",pagination:!1,search:!1,exportCSV:!1,data:w},r.a.createElement(P.TableHeaderColumn,{dataField:"id",width:"8%",dataSort:!0},"#"),r.a.createElement(P.TableHeaderColumn,{dataField:"description",dataSort:!0},"Descri\xe7\xe3o"),r.a.createElement(P.TableHeaderColumn,{dataField:"parcel",width:"5%"},"De"),r.a.createElement(P.TableHeaderColumn,{dataField:"all_parcel",width:"5%"},"Parc."),r.a.createElement(P.TableHeaderColumn,{dataField:"amount",dataSort:!0,width:"20%",dataFormat:ne},"Valor"),r.a.createElement(P.TableHeaderColumn,{dataField:"date_sale",dataSort:!0,width:"15%",dataFormat:te},"Data"))))),r.a.createElement(be,null)))},ze=function(){var e=Object(u.i)().path;return r.a.createElement(r.a.Fragment,null,r.a.createElement(S,null),r.a.createElement("div",{className:"container-fluid"},r.a.createElement("main",null,r.a.createElement(u.d,null,r.a.createElement(u.b,{exact:!0,path:e},r.a.createElement(qe,null)),r.a.createElement(u.b,{exact:!0,path:"".concat(e,"/register")},r.a.createElement(Le,null)),r.a.createElement(u.b,{exact:!0,path:"".concat(e,"/print")},r.a.createElement(We,null)),r.a.createElement(u.b,{exact:!0,path:"".concat(e,"/delete/:id")},r.a.createElement(Je,null))))))},Ue=function(){var e=Object(u.g)(),t=Object(n.useState)([]),a=Object(D.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)({row:{},isSelected:!1}),s=Object(D.a)(o,2),m=s[0],d=s[1];Object(n.useEffect)((function(){H.get("/outlay",{params:{date_outlay:""}}).then((function(e){l(e.data.outlays)})).catch((function(e){i.b.error("Erro ao acessar API"),console.error(e)}))}),[]);var p=Object(n.useCallback)((function(e,t){d({row:e,isSelected:t})}),[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"d-flex mb-5 justify-content-center"},r.a.createElement("div",{className:"btn-group ",role:"group"},r.a.createElement(I.a,{variant:"primary",onClick:function(){return e.push("/saida/register")}},"Cadastra Saida"),m.isSelected&&r.a.createElement(I.a,{variant:"danger",onClick:function(){return e.push("/saida/delete/".concat(m.row.id))}},"Deletar Saida"),r.a.createElement(I.a,{variant:"success",onClick:function(){return e.push("/saida/print")}},"Relatorio de Gastos"))),r.a.createElement("div",null,r.a.createElement(L,{data:c,onSelect:p,keyField:"id"},r.a.createElement(P.TableHeaderColumn,{dataField:"id",dataSort:!0,width:"5%"},"#"),r.a.createElement(P.TableHeaderColumn,{dataField:"description",dataSort:!0},"Descri\xe7\xe3o"),r.a.createElement(P.TableHeaderColumn,{dataField:"amount",dataSort:!0,width:"10%",dataFormat:ne},"Valor"),r.a.createElement(P.TableHeaderColumn,{dataField:"date_outlay",dataSort:!0,width:"10%",dataFormat:te},"Data"))))},Qe=function(){var e=Object(u.g)(),t=Object(n.useState)(),a=Object(D.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)({floatValue:0}),s=Object(D.a)(o,2),m=s[0],d=s[1],p=Object(n.useState)(""),f=Object(D.a)(p,2),b=f[0],E=f[1],v=Object(n.useState)(""),h=Object(D.a)(v,2),j=h[0],O=h[1],g=Object(n.useState)(1),y=Object(D.a)(g,2),N=y[0],k=y[1],C=Object(n.useState)([]),x=Object(D.a)(C,2),w=x[0],S=x[1];Object(n.useEffect)((function(){l((new Date).toISOString().substring(0,10))}),[]),Object(n.useEffect)((function(){if(m&&b){var e=[],t=m.floatValue,a=c.split("-").map((function(e){return parseInt(e)})),n=Object(D.a)(a,3),r=n[0],l=n[1],o=n[2];l--;var u=0;do{u++,e.push({index:u,description:b,amount:t,date_outlay:new Date(r,l,o).toISOString().substring(0,10)}),l++}while(u<N);S(e)}}),[c,m,b,N]);var F=Object(n.useCallback)(function(){var t=Object(T.a)(V.a.mark((function t(a){var n,r;return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n=w.map((function(e){e.index;return Object(q.a)(e,["index"])})),t.next=4,H.post("/outlay",n);case 4:200===(r=t.sent).status?(i.b.success(r.data.message),e.goBack()):i.b.error(r.data.message);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[e,w]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row p-3"},r.a.createElement(I.a,{variant:"secondary",className:"mb-4",onClick:function(){return e.goBack()}},"Voltar")),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-3"},r.a.createElement(Re.a,null,r.a.createElement(ie,{label:"Data",type:"date",id:"inputData",name:"inputData",value:c,onChange:function(e){return l(e.target.value)}}),r.a.createElement(ie,{label:"Descri\xe7\xe3o",id:"inputDescricao",name:"inputDescricao",value:b,onChange:function(e){return E(e.target.value)}}),r.a.createElement(se,{label:"Valor",id:"inputValor",name:"inputValor",value:m.formattedValue,onValueChange:function(e){return d(e)}}),r.a.createElement(Ae,{label:"Vezes",id:"selectedPagamento",name:"selectedPagamento",value:j,onChange:function(e){return O(e.target.value)}},r.a.createElement("option",null,"Uma vez"),r.a.createElement("option",null,"Varias vezes")),"Varias vezes"===j&&r.a.createElement(ie,{label:"Multiplicador",type:"Number",id:"inputParcelas",name:"inputParcelas",min:"1",value:N,onChange:function(e){return k(e.target.value)}}),r.a.createElement(I.a,{variant:"primary",onClick:F},"Salvar Cadastro"))),r.a.createElement("div",{className:"col-9"},r.a.createElement(L,{data:w},r.a.createElement(P.TableHeaderColumn,{dataField:"index",isKey:!0,width:"5%"},"#"),r.a.createElement(P.TableHeaderColumn,{dataField:"description"},"Descri\xe7\xe3o"),r.a.createElement(P.TableHeaderColumn,{dataField:"amount",width:"15%",dataFormat:ne},"Valor"),r.a.createElement(P.TableHeaderColumn,{dataField:"date_outlay",width:"15%",dataFormat:te},"Data")))))},Ge=function(){var e=Object(u.g)(),t=Object(u.h)(0).id,a=Object(n.useState)({}),c=Object(D.a)(a,2),l=c[0],o=c[1];Object(n.useEffect)((function(){H.get("/outlay/".concat(t)).then((function(t){if(500===t.status)return i.b.error("Venda n\xe3o encontrado"),void e.push("/saida");o(t.data.outlay)})).catch((function(e){i.b.error("Erro ao acessar API"),console.error(e)}))}),[e,t]);var s=Object(n.useCallback)(function(){var a=Object(T.a)(V.a.mark((function a(n){var r;return V.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n.preventDefault(),a.next=3,H.delete("/outlay/".concat(t));case 3:r=a.sent,i.b.success(r.data.message),e.push("/saida");case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),[e,t]);return r.a.createElement("div",null,r.a.createElement("h2",null,"Tem certeza que deseja deletar:"),r.a.createElement("div",{className:"mt-4 mb-4 justify-content-center"},r.a.createElement("p",null,"Codigo: ",l.id),r.a.createElement("p",null,"Descri\xe7\xe3o: ",l.description),r.a.createElement("p",null,"Valor: ",r.a.createElement(ee,{value:l.amount})),r.a.createElement("p",null,"Vencimento: ",r.a.createElement(X,{value:l.date_outlay})),r.a.createElement("p",null,"Data de cria\xe7\xe3o: ",r.a.createElement(X,{value:l.created_at}))),r.a.createElement(I.a,{variant:"danger",onClick:s},"Confirmar remo\xe7\xe3o"))},Ze=function(){var e=Object(u.g)(),t=Object(n.useState)((new Date).getFullYear()),a=Object(D.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)(""),s=Object(D.a)(o,2),m=s[0],d=s[1],p=Object(n.useState)(""),f=Object(D.a)(p,2),b=f[0],E=f[1],v=Object(n.useState)(!0),h=Object(D.a)(v,2),j=h[0],O=h[1],g=Object(n.useState)([]),y=Object(D.a)(g,2),N=y[0],k=y[1],C=Object(n.useState)([]),x=Object(D.a)(C,2),w=x[0],S=x[1],F=Object(n.useState)(),A=Object(D.a)(F,2),_=A[0],q=A[1];Object(n.useEffect)((function(){function e(){return(e=Object(T.a)(V.a.mark((function e(){var t;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,H.get("/outlay");case 3:t=e.sent,k(t.data.outlays),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),i.b.error("Erro no acesso da API"),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(n.useEffect)((function(){var e="";j&&(e+=c,e=""===m?e:[e,m,b].join("-"));var t=N.filter((function(t){return console.log(t,e),t.date_outlay.includes(e)}));S(t)}),[c,j,b,m,N]),Object(n.useEffect)((function(){q(w.reduce((function(e,t){return e+t.amount}),0))}),[w]);var R=Object(n.useCallback)((function(e){O(e.currentTarget.checked),j&&(d(""),E(""))}),[j]);return r.a.createElement(he,null,r.a.createElement("div",{className:"my-2 noprint"},r.a.createElement("div",null,r.a.createElement("div",{className:"row d-flex justify-content-start align-items-center"},j&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"col-2"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"inputAno"},"Ano"),r.a.createElement("input",{className:"form-control",type:"Number",id:"inputAno",value:c,onChange:function(e){return l(e.target.value)}}))),r.a.createElement("div",{className:"col-2"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"selectMes"},"M\xeas"),r.a.createElement("select",{id:"selectMes",className:"form-control",value:m,onChange:function(e){return d(e.target.value)}},r.a.createElement(He,null)))),""!==m&&r.a.createElement("div",{className:"col-2"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"selectDia"},"Dia"),r.a.createElement("select",{className:"form-control",id:"selectDia",value:b,onChange:function(e){return E(e.target.value)}},r.a.createElement(_e,null))))),r.a.createElement("div",{className:"col-2"},r.a.createElement(pe.a,{toggle:!0},r.a.createElement(fe.a,{type:"checkbox",variant:"secondary",checked:j,value:"1",onChange:R},j?"Todos":"Filtrar")))),r.a.createElement("div",{className:"btn-group my-2",role:"group"},r.a.createElement(I.a,{variant:"secondary",onClick:function(){return e.goBack()}},"Voltar"),r.a.createElement(be,null)))),r.a.createElement("div",null,r.a.createElement("div",{className:"print"},r.a.createElement(Ee,null),r.a.createElement("div",{className:" mb-auto"},r.a.createElement("p",{className:"h2 text-center m-4  "},"Relatorio de Gastos",j?" - ".concat(b?b+"/":b).concat(m?m+"/":m).concat(c):""),r.a.createElement("div",{className:"mt-3"},r.a.createElement("p",{className:"text-right font-weight-bold"},r.a.createElement("span",{className:"h3"},r.a.createElement(ee,{value:_}))),r.a.createElement(L,{data:w,pagination:!1,search:!1,exportCSV:!1,keyField:"id"},r.a.createElement(P.TableHeaderColumn,{dataField:"id",dataSort:!0,width:"8%"},"#"),r.a.createElement(P.TableHeaderColumn,{dataField:"description",dataSort:!0},"Descri\xe7\xe3o"),r.a.createElement(P.TableHeaderColumn,{dataField:"amount",dataSort:!0,width:"20%",dataFormat:ne},"Valor"),r.a.createElement(P.TableHeaderColumn,{dataField:"date_outlay",dataSort:!0,width:"15%",dataFormat:te},"Data"))))),r.a.createElement(be,null)))},Be=function(){var e=Object(u.i)().path;return r.a.createElement(r.a.Fragment,null,r.a.createElement(S,null),r.a.createElement("div",{className:"container-fluid"},r.a.createElement("main",null,r.a.createElement(u.d,null,r.a.createElement(u.b,{exact:!0,path:e},r.a.createElement(Ue,null)),r.a.createElement(u.b,{exact:!0,path:"".concat(e,"/register")},r.a.createElement(Qe,null)),r.a.createElement(u.b,{exact:!0,path:"".concat(e,"/print")},r.a.createElement(Ze,null)),r.a.createElement(u.b,{exact:!0,path:"".concat(e,"/delete/:id")},r.a.createElement(Ge,null))))))},Me=_.a.create({baseURL:"https://api.github.com/"}),Ke=a(107),Xe=a.n(Ke),Ye=function(){var e=Object(n.useState)({avatar_url:Xe.a,name:"Name",company:"company",location:"...",bio:"..."}),t=Object(D.a)(e,2),a=t[0],c=t[1],l=Object(n.useRef)(),o=Object(n.useRef)(),u=Object(n.useRef)();Object(n.useEffect)((function(){function e(){return(e=Object(T.a)(V.a.mark((function e(){var t,a,n,r,l,o,u;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Me.get("https://api.github.com/users/alvino");case 2:t=e.sent,console.log(t.data),a=t.data,n=a.avatar_url,r=a.name,l=a.location,o=a.company,u=a.bio,c({avatar_url:n,name:r,location:l,company:o,bio:u});case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}null!==a&&function(){e.apply(this,arguments)}()}),[a]);var s=function(){var e=Object(T.a)(V.a.mark((function e(t){var a,n,r;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=l.current.value,n=o.current.value,r=u.current.value,e.next=6,H.post("send",{name:a,email:n,message:r});case 6:e.sent.status>500&&i.b.error("N\xe3o foi possivel enviar email");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(S,null),r.a.createElement("div",{className:"container-fluid"},r.a.createElement("main",null,r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-6"},r.a.createElement("img",{src:a.avatar_url,width:"100px",class:"rounded mx-auto d-block",alt:"..."}),r.a.createElement("p",null,a.name),r.a.createElement("p",null,a.company),r.a.createElement("p",null,a.location),r.a.createElement("p",null,a.bio)),r.a.createElement("div",{class:"col-6"},r.a.createElement("div",null,r.a.createElement("span",{className:"h2"},"Relatar bugs"),r.a.createElement("form",{onSubmit:s},r.a.createElement("input",{type:"text",name:"name",placeholder:"Digite o seu nome",className:"form-control my-2",ref:l,required:!0}),r.a.createElement("input",{type:"email",name:"email",placeholder:"Digite o seu e-mail",className:"form-control my-2",ref:o,required:!0}),r.a.createElement("p",null,"Assunto: CucA-aplicativo"),r.a.createElement("textarea",{type:"text",name:"message",placeholder:"Mensagem",rows:"3",className:"form-control my-2",ref:u,required:!0}),r.a.createElement("button",{className:"btn btn-primary",type:"submit"},"Enviar"))))))))};var $e=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,{position:"bottom-right",hideProgressBar:!0,closeOnClick:!0}),r.a.createElement(o.a,null,r.a.createElement(u.d,null,r.a.createElement(u.b,{exact:!0,path:"/"},r.a.createElement(x,null)),r.a.createElement(u.b,{path:"/cliente"},r.a.createElement(Q,null)),r.a.createElement(u.b,{path:"/fornecedor"},r.a.createElement(M,null)),r.a.createElement(u.b,{path:"/estoque"},r.a.createElement(ge,null)),r.a.createElement(u.b,{path:"/orcamento"},r.a.createElement(Se,null)),r.a.createElement(u.b,{path:"/venda"},r.a.createElement(Pe,null)),r.a.createElement(u.b,{path:"/entrada"},r.a.createElement(ze,null)),r.a.createElement(u.b,{path:"/saida"},r.a.createElement(Be,null)),r.a.createElement(u.b,{path:"/sobre"},r.a.createElement(Ye,null)),r.a.createElement(u.a,{to:"/"}))))};l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement($e,null)),document.getElementById("root"))},94:function(e,t,a){e.exports=a.p+"static/media/logo_cuca.52393239.svg"}},[[108,1,2]]]);
//# sourceMappingURL=main.c90dfae2.chunk.js.map